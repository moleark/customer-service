{"version":3,"sources":["webUser/VPendingAuditUserList.tsx","tvs/common.tsx","tools/productImage.tsx","tvs/product.tsx","tvs/index.tsx","tvs/webuser.tsx","tvs/customer.tsx","configuration.ts","webUser/VPendingAuditUser.tsx","webUser/VPendingAuditUserRefuse.tsx","CBase.ts","webUser/CWebUser.tsx","me/EditMeInfo.tsx","me/VMe.tsx","me/CMe.tsx","order/VPendingOrderList.tsx","order/VOrderDetail.tsx","order/COrder.tsx","VMain.tsx","product/VProductView.tsx","product/VChemicalInfo.tsx","product/CProduct.tsx","currentUser.ts","CCustomerServiceApp.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["VPendingAuditUserList","renderPendingUser","item","webUser","right","name","className","tv","onUserClick","user","a","controller","openPendingAuditUserDetail","content","observer","pendingUsers","header","items","render","onClick","param","this","getPendingUsers","VPage","tvAddress","values","country","province","city","county","undefined","tvCountry","chineseName","imagePath","altimagePath","ProductImage","props","style","chemicalId","src","substr","altImage","caption","value","tvs","webuser","firstName","salutation","organizationName","departmentName","common","address","currency","customer","contact","mobile","addressString","invoiceInfo","title","taxNo","invoiceType","id","description","product","productx","brand","CAS","purity","molecularFomula","molecularWeight","origin","imageUrl","packx","radiox","radioy","unit","productCategory","children","appConfig","GLOABLE","CHINA","CHINESE","SALESREGION_CN","TIPDISPLAYTIME","schema","type","required","uiSchema","visible","widget","label","placeholder","rules","length","teacher","submit","VPendingAuditUser","form","data","pendingOrderList","auditPendingUser","buttonClick","onFormButtonClick","context","ret","tips","role","leftseconds","h","setInterval","setTimeout","clearInterval","backPage","page","currentAuditingUser","webUserContact","openAuditRefuse","contactInfoUi","telephone","email","href","footer","left","ref","v","formData","onButtonClick","renderPendingOrders","openPage","observable","VPendingAuditUserRefuse","auditPendingUserRefuse","closePage","reason","list","comments","map","CUqBase","_uqs","CBase","CWebUser","CSub","tab","renderView","uqs","AuditPendingUserRefuseReason","search","reasons","openVPage","webUserId","cOrder","cApp","renderPendingOrder","getPendingAuditUser","table","webUserBox","WebUser","load","WebUserContact","obj","customerNo","teacherNo","getCustomerByNo","customerBox","customerId","teacherBox","auditPendingOrder","reasonData","currentAuditingUserId","EditMeInfo","nick","icon","onItemChanged","itemSchema","newValue","preValue","userApi","userSetProp","nav","saveLocalUser","onWebUserChanged","webUserData","changeWebUser","onWebUserContactChanged","webUserContactData","changeWebUserContact","currentUser","gender","fax","zipCode","VMe","changePassword","meInfo","userSpan","String","showLogout","rows","aboutRows","component","iconClass","text","push","showLogin","size","logOutRows","bk","exit","CMe","VPendingOrderList","renderOrder","order","index","openOrderDetail","no","date","pendingOrders","none","View","VOrderDetail","packsRow","pack","quantity","price","key","parseFloat","toFixed","renderOrderItem","orderItem","packs","renderOrderItemProduct","p","couponUI","offsetUI","remittedUI","freightFeeUI","freightFeeRemittedUI","brief","orderItems","shippingContact","invoiceContact","amount","couponOffsetAmount","couponRemitted","freightFee","freightFeeRemitted","invoiceTypeUI","invoiceInfoUI","invoiceTemplate","COrder","orderId","Order","getSheet","orderitems","orderItemsGrouped","orderItemGroupByProduct","cProduct","renderCartProduct","GetPendingAuditOrders","pendingAuditOrders","i","flow","state","action","packItems","result","cd","cpi","find","e","packRow","color","selected","VMain","cWebUser","cMe","faceTabs","notify","TabCaptionComponent","tabs","VCartProuductView","descriptionC","renderChemicalInfo","productPropItem","renderBrand","VChemicalInfo","productId","chemicalInfo","chemicalInfoContainer","chemical","getChemicalInfo","CProduct","ProductChemical","captionClass","capClass","classNames","valClass","guest","token","_user","webUserSettings","setUser","loadWebUser","currentCustomer","WebUserSetting","WebUserCustomer","Customer","init","WebUserContacts","contactId","add","arr1","del","saveDefaultSettings","invoiceTypeId","invoiceInfoId","save","computed","customerSettings","CustomerContacts","CustomerSetting","setDefaultSettings","CCustomerServiceApp","topKey","currentSalesRegion","currentLanguage","SalesRegion","Language","newC","showMain","initTabName","CAppBase","appName","version","setSettings","App","onLogined","start","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"+XAKaA,EAAb,2MAWYC,kBAAoB,SAACC,GAAe,IAClCC,EAAYD,EAAZC,QACFC,EAAQ,gBAAC,IAAD,CAAIC,KAAK,gBAAgBC,UAAU,oCAC/C,OAAO,gBAAC,IAAD,CAAKF,MAAOA,EAAOE,UAAU,OAC/BC,YAAGJ,KAfhB,EAmBYK,YAnBZ,uCAmB0B,WAAOC,GAAP,SAAAC,EAAA,sEACZ,EAAKC,WAAWC,2BAA2BH,GAD/B,2CAnB1B,wDAuBYI,QAAUC,aAAS,WAAO,IAExBC,EAAiB,EAAKJ,WAAtBI,aACN,OAAO,gBAAC,IAAD,CAAMC,OAAO,kCAChB,gBAAC,IAAD,CAAMC,MAAOF,EAAcb,KAAM,CAAEgB,OAAQ,EAAKjB,kBAAmBkB,QAAS,EAAKX,mBA3B7F,6GAEeY,GAFf,yLAMWA,GAEH,OADAC,KAAKV,WAAWW,kBACT,qBAAMT,QAAN,UARf,GAA2CU,K,OCF9BC,EAAY,SAACC,GAAiB,IACjCC,EAAoCD,EAApCC,QAASC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,KAAMC,EAAWJ,EAAXI,OAC/B,OAAO,gCACFtB,YAAGmB,GAAUnB,YAAGoB,OAAUG,OAAWA,GAAW,kBAAM,oCAAQvB,YAAGqB,OAAME,OAAWA,GAAW,kBAAM,oCAAQvB,YAAGsB,OAAQC,OAAWA,GAAW,kBAAM,sCAI9IC,EAAY,SAACN,GACtB,OAAO,oCAAIA,EAAOO,YAAX,MCRLC,EAAY,8CACZC,EAAe,qDAQd,SAASC,EAAaC,GAA2B,IAE9CC,EAAiCD,EAAjCC,MAAO/B,EAA0B8B,EAA1B9B,UAAWgC,EAAeF,EAAfE,WACxB,OAAO,gBAAC,IAAD,CAAOC,IAAKD,GAAeL,EAAYK,EAAWE,OAAO,EAAG,GAAK,IAAMF,EAAa,OACvFD,MAAOA,EAAO/B,UAAWA,EAAWmC,SAAUP,ICqBtD,SAAShC,EAAKwC,EAAiBC,GAC3B,OAAc,OAAVA,QAA4Bb,IAAVa,EAA4B,KAC3C,gCACH,uBAAKrC,UAAU,yBAAyBoC,EAAxC,KACA,uBAAKpC,UAAU,SAASqC,IAIhC,I,oBCvCaC,EAAW,CACpBC,QCGmB,CACnBA,QATqB,SAACF,GAAgB,IAChCG,EAA4DH,EAA5DG,UAAWC,EAAiDJ,EAAjDI,WAAYC,EAAqCL,EAArCK,iBAAkBC,EAAmBN,EAAnBM,eAC/C,OAAO,gCACH,uBAAK3C,UAAU,QAAO,8BAASwC,GAA/B,IAAmD,wBAAMxC,UAAU,SAASyC,IAC5E,uBAAKzC,UAAU,oBAAoB0C,EAAnC,QAA4DC,MDEhEC,OHUkB,CAClBC,QAAS3B,EACTE,QAASK,EACTJ,SAAUI,EACVH,KAAMG,EACNF,OAAQE,EACRqB,SAVsB,SAAC3B,GACvB,OAAO,oCAAIA,EAAOpB,KAAX,OGNPgD,SEuBoB,CACpBC,QA7BqB,SAAC7B,GAAiB,IACjCpB,EAA2DoB,EAA3DpB,KAAMkD,EAAqD9B,EAArD8B,OAAQP,EAA6CvB,EAA7CuB,iBAAkBG,EAA2B1B,EAA3B0B,QAASK,EAAkB/B,EAAlB+B,cAC/C,OAAO,uBAAKlD,UAAU,eAClB,yBACKD,GAFF,QAIKkD,EAJL,SAIqBP,EAAiB,2BACzC,6BAAQzC,YAAG4C,GAAX,IAAsBK,KAuB1BL,QAAS3B,EACTE,QAASK,EACTJ,SAAUI,EACVH,KAAMG,EACNF,OAAQE,EACR0B,YAjByB,SAAChC,GAAiB,IACrCiC,EAAiBjC,EAAjBiC,MAAOC,EAAUlC,EAAVkC,MACb,OAAO,uBAAKrD,UAAU,eAClB,yBACKoD,GAFF,QAIKC,IAYZC,YAzByB,SAACnC,GACAA,EAApBoC,GADqC,IACjCC,EAAgBrC,EAAhBqC,YACV,OAAO,uBAAKxD,UAAU,eACjBwD,KFRLC,QD0CmB,CACnBC,SAjDqB,SAACvC,GACtB,IAAIsC,EAAUtC,EACRwC,EAAwFF,EAAxFE,MAAOH,EAAiFC,EAAjFD,YAAaI,EAAoEH,EAApEG,IAAKC,EAA+DJ,EAA/DI,OAAQC,EAAuDL,EAAvDK,gBAAiBC,EAAsCN,EAAtCM,gBAAiBC,EAAqBP,EAArBO,OAAQC,EAAaR,EAAbQ,SACjF,OAAO,uBAAKjE,UAAU,cAClB,uBAAKA,UAAU,UACX,uBAAKA,UAAU,YACX,uBAAKA,UAAU,UAAS,8BAASwD,KAErC,uBAAKxD,UAAU,OACX,uBAAKA,UAAU,SACX,gBAAC6B,EAAD,CAAcG,WAAYiC,EAAUjE,UAAU,WAElD,uBAAKA,UAAU,SACX,uBAAKA,UAAU,OACVJ,EAAK,MAAOgE,GACZhE,EAAK,eAAMiE,GACXjE,EAAK,qBAAOkE,GACZlE,EAAK,qBAAOmE,GACZnE,EAAK,2BAAQoE,GACb/D,YAAG0D,GAAO,SAACxC,GAAD,OAAiB,gCAAGvB,EAAK,eAAMuB,EAAOpB,gBA+BrEmE,MAvBY,SAAC/C,GAAiB,IACxBgD,EAAyBhD,EAAzBgD,OAAQC,EAAiBjD,EAAjBiD,OAAQC,EAASlD,EAATkD,KACtB,OAAe,IAAXF,EAAqB,gCAAGA,EAAH,MAAcC,EAAQC,GACxC,gCAAGD,EAAQC,IAqBlBC,gBAVsB,SAACnD,GACJA,EAAboD,SACN,OAAO,0CI5CEC,EAEA,QAoBEC,EAhBC,CACZC,MAAO,GACPC,QAAS,IACTC,eAAgB,EAChBC,eAAgB,KCNdC,EAAiB,CACnB,CAAE/E,KAAM,KAAMgF,KAAM,KAAMC,UAAU,GACpC,CAAEjF,KAAM,WAAYgF,KAAM,SAAUC,UAAU,GAC9C,CAAEjF,KAAM,UAAWgF,KAAM,SAAUC,UAAU,GAC7C,CAAEjF,KAAM,SAAUgF,KAAM,WAGtBE,EAAqB,CACvBtE,MAAO,CACH4C,GAAI,CAAE2B,SAAS,GACfnC,SAAU,CACNoC,OAAQ,OAAQC,MAAO,kBAASC,YAAa,kBAASC,MAAO,SAACjD,GAC1D,OAAOA,GAASA,EAAMkD,OAAS,GAAK,uEAAkB/D,IAG9DgE,QAAS,CACLL,OAAQ,OAAQC,MAAO,kBAASC,YAAa,kBAASC,MAAO,SAACjD,GAC1D,OAAOA,GAASA,EAAMkD,OAAS,GAAK,uEAAkB/D,IAG9DiE,OAAQ,CAAEN,OAAQ,SAAUC,MAAO,2BAAQF,SAAS,EAAOlF,UAAW,qBAIjE0F,GAAb,6MAEYC,UAFZ,IAGYC,KAAY,GAHxB,EAIYC,sBAJZ,2CAaYC,iBAbZ,sBAa+B,sBAAA1F,EAAA,yDAClB,EAAKuF,KADa,iEAEjB,EAAKA,KAAKI,YAAY,UAFL,2CAb/B,EAkBYC,kBAlBZ,uCAkBgC,WAAOjG,EAAckG,GAArB,yBAAA7F,EAAA,6DAClBwF,EAASK,EAAQN,KAAjBC,KACA7C,EAAsB6C,EAAtB7C,SAAUyC,EAAYI,EAAZJ,QAEhB,EAAKI,KAAK7C,SAAWA,EACrB,EAAK6C,KAAKJ,QAAUA,EALI,SAOR,EAAKnF,WAAWyF,iBAAiBF,GAPzB,OAOpBM,EAPoB,YAQhBA,EARgB,OASf,IATe,QAcf,IAde,QAmBf,IAnBe,gCAUhB,EAAKC,KAAO,uBAAKnG,UAAU,qBAAqBoG,KAAK,SACjD,gBAAC,IAAD,CAAIrG,KAAK,qBAAqBC,UAAU,4BADhC,0EAVI,oCAehB,EAAKmG,KAAO,uBAAKnG,UAAU,qBAAqBoG,KAAK,SACjD,gBAAC,IAAD,CAAIrG,KAAK,qBAAqBC,UAAU,4BADhC,4FAfI,oCAoBhB,EAAKmG,KAAO,uBAAKnG,UAAU,qBAAqBoG,KAAK,SACjD,gBAAC,IAAD,CAAIrG,KAAK,qBAAqBC,UAAU,4BADhC,4FApBI,oCAyBZqG,EAAc,EAClB,EAAKF,KAAO,uBAAKnG,UAAU,sBAAsBoG,KAAK,SAClD,gBAAC,IAAD,CAAIrG,KAAK,eAAeC,UAAU,sBAD1B,2BACwDqG,GAEhEC,EAAIC,aAAY,WAChBF,IACA,EAAKF,KAAO,uBAAKnG,UAAU,sBAAsBoG,KAAK,SAClD,gBAAC,IAAD,CAAIrG,KAAK,eAAeC,UAAU,sBAD1B,2BACwDqG,KAErE,KACHG,YAAW,WACPC,cAAcH,GACd,EAAKI,aACN,KAtCa,6BAyCxBF,YAAW,WACP,EAAKL,UAAO3E,IACbiD,EAAQI,gBA3Ca,4CAlBhC,0DAgEY8B,KAAOnG,aAAS,WAAO,IAAD,EAEqC,EAAKH,WAA9DuG,EAFoB,EAEpBA,oBAAqBC,EAFD,EAECA,eAAgBC,EAFjB,EAEiBA,gBACrCvD,EAAgEqD,EAAhErD,GAAIf,EAA4DoE,EAA5DpE,UAAWC,EAAiDmE,EAAjDnE,WAAYC,EAAqCkE,EAArClE,iBAAkBC,EAAmBiE,EAAnBjE,eAE/CoE,EAAgB,uBAAK/G,UAAU,sBAAf,mGACpB,GAAI6G,EAAgB,CAAC,IACXG,EAA6BH,EAA7BG,UAAW/D,EAAkB4D,EAAlB5D,OAAQgE,EAAUJ,EAAVI,MACzBF,EAAgB,gCACZ,uBAAK/G,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAQ,qBAAGkH,KAAI,cAASjE,IAAWA,IAClD,uBAAKjD,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAQ,qBAAGkH,KAAI,cAASF,IAAcA,IACrD,uBAAKhH,UAAU,oBAAf,UACA,uBAAKA,UAAU,SAAQ,qBAAGkH,KAAI,iBAAYD,IAAUA,KAI5D,EAAKrB,KAAKrC,GAAKA,EACf,IAAI4D,EAAS,gBAAC,IAAD,CACTrH,MAAO,0BAAQiF,KAAK,SAChB/E,UAAU,sBACVa,QAAS,EAAKiF,kBAFX,gBAGPsB,KACI,0BAAQrC,KAAK,SACT/E,UAAU,8BACVa,QAASiG,GAFb,wBAIR,OAAO,gBAAC,IAAD,CAAMpG,OAAO,6CAAUyG,OAAQA,GAClC,uBAAKnH,UAAU,qBACX,0BAAQA,UAAU,SAASwC,GAD/B,IACmD,wBAAMxC,UAAU,oBAAoByC,IAEvF,uBAAKzC,UAAU,+BACV+G,EACD,uBAAK/G,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAS0C,GACxB,uBAAK1C,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAAS2C,IAE5B,uBAAK3C,UAAU,iBACX,sBAAIA,UAAU,cAAd,gBACC,EAAKmG,KACN,gBAAC,IAAD,CAAMkB,IAAK,SAAAC,GAAC,OAAI,EAAK3B,KAAO2B,GAAGxC,OAAQA,EACnCG,SAAUA,EACVsC,SAAU,EAAK3B,KACf5F,UAAU,gBACVwH,cAAe,EAAKxB,qBAE5B,uBAAKhG,UAAU,iBACX,sBAAIA,UAAU,cAAd,8CACC,EAAK6F,sBAlHtB,6GAOe/E,GAPf,8EAQc8F,EAAwB7F,KAAKV,WAA7BuG,oBARd,SASsC7F,KAAKV,WAAWoH,oBAAoBb,EAAoBrD,IAT9F,OASQxC,KAAK8E,iBATb,OAUQ9E,KAAK2G,SAAS3G,KAAK4F,KAAM7F,GAVjC,4GAAuCG,KAAvC,kCAKK0G,KALL,iE,QCzBM7C,EAAiB,CACnB,CAAE/E,KAAM,KAAMgF,KAAM,KAAMC,UAAU,GACpC,CAAEjF,KAAM,SAAUgF,KAAM,KAAMC,UAAU,GACxC,CAAEjF,KAAM,WAAYgF,KAAM,SAAUC,UAAU,GAC9C,CAAEjF,KAAM,SAAUgF,KAAM,WAGf6C,GAAb,qPAQY5B,kBARZ,uCAQgC,WAAOjG,EAAckG,GAArB,mBAAA7F,EAAA,sDAElBwF,EAASK,EAAQN,KAAjBC,KACN,EAAKvF,WAAWwH,uBAAuBjC,GACnCS,EAAc,EAClB,EAAKF,KAAO,uBAAKnG,UAAU,sBAAsBoG,KAAK,SAClD,gBAAC,IAAD,CAAIrG,KAAK,eAAeC,UAAU,sBAD1B,2BACwDqG,GAEhEC,EAAIC,aAAY,WAChBF,IACA,EAAKF,KAAO,uBAAKnG,UAAU,sBAAsBoG,KAAK,SAClD,gBAAC,IAAD,CAAIrG,KAAK,eAAeC,UAAU,sBAD1B,2BACwDqG,KAErE,KACHG,YAAW,WACPC,cAAcH,GACd,EAAKwB,UAAU,KAChB,KAjBqB,2CARhC,0DA4BY7C,SAAqB,CACzBtE,MAAO,CACH4C,GAAI,CAAE2B,SAAS,GACf6C,OAAQ,CAAE5C,OAAQ,QAASC,MAAO,2BAAQ4C,KAAM,IAChDC,SAAU,CACN9C,OAAQ,OAAQC,MAAO,eAAMC,YAAa,eAAMC,MAAO,SAACjD,GACpD,OAAOA,GAASA,EAAMkD,OAAS,IAAM,6EAAmB/D,IAGhEiE,OAAQ,CAAEN,OAAQ,SAAUC,MAAO,iCAASF,SAAS,EAAMlF,UAAW,2BArClF,EAyCY2G,KAAOnG,aAAS,WACpB,OAAO,gBAAC,IAAD,CAAME,OAAO,kCAChB,gBAAC,IAAD,CAAMoE,OAAQA,EACV9E,UAAU,YACViF,SAAU,EAAKA,SAAUuC,cAAe,EAAKxB,oBAChD,EAAKG,SA9ClB,6GAGerF,GAHf,iEAISC,KAAKkE,SAAStE,MAAMoH,OAAmBC,KAAQlH,EAAgBoH,KAAI,SAAAZ,GAAO,MAAO,CAAEjF,MAAOiF,EAAE/D,GAAIH,MAAOkE,EAAE9D,gBAC1GzC,KAAK2G,SAAS3G,KAAK4F,MAL3B,4GAA6C1F,KAA7C,kCAEK0G,KAFL,iECVsBQ,EAAtB,4KAC8B,OAAOpH,KAAKqH,SAD1C,GAAsCC,KCGzBC,GDCwBC,ICDrC,6PAII3B,yBAJJ,IAKIC,oBALJ,IAWI2B,IAAM,kBAAM,EAAKC,WAAW/I,IAXhC,EAyDIoH,gBAzDJ,sBAyDsB,4BAAA1G,EAAA,sEAEM,EAAKsI,IAAInG,QAAQoG,6BAA6BC,YAAOpH,EAAW,EAAG,KAFzE,OAEVqH,EAFU,OAGd,EAAKC,UAAUlB,EAAyBiB,GAH1B,2CAzDtB,EAkFIpB,oBAlFJ,uCAkF0B,WAAOsB,GAAP,eAAA3I,EAAA,6DACZ4I,EAAW,EAAKC,KAAhBD,OADY,SAELA,EAAOE,mBAAmBH,GAFrB,mFAlF1B,2eAckChI,KAAK2H,IAAInG,QAAQ4G,oBAAoBC,WAAM5H,GAd7E,OAcQT,KAAKN,aAdb,uMAiBqCN,GAjBrC,gFAkBuBkJ,EAAelJ,EAAxBN,QACA0D,EAAO8F,EAAP9F,GAnBd,SAoByCxC,KAAK2H,IAAInG,QAAQ+G,QAAQC,KAAKhG,GApBvE,cAoBQxC,KAAK6F,oBApBb,gBAqBoC7F,KAAK2H,IAAInG,QAAQiH,eAAeC,IAAI,CAAE5J,QAAS0D,IArBnF,OAqBQxC,KAAK8F,eArBb,OAsBQ9F,KAAK+H,UAAUpD,GAtBvB,uLA6B2BE,GA7B3B,sFA8BcrC,EAAiDqC,EAAjDrC,GAAcmG,EAAmC9D,EAA7C7C,SAA+B4G,EAAc/D,EAAvBJ,QAC3BkE,EA/Bb,yCAgCmB,GAhCnB,uBAiCgC3I,KAAK2H,IAAI3F,SAAS6G,gBAAgBH,IAAI,CAAEC,WAAYA,IAjCpF,UAiCYG,EAjCZ,gDAmCmB,GAnCnB,UAqCkBC,EAAeD,EAAY9G,SAA/BQ,IAGFoG,EAxCZ,kCAyCmC5I,KAAK2H,IAAI3F,SAAS6G,gBAAgBH,IAAI,CAAEC,WAAYC,IAzCvF,WAyCgBI,EAzChB,iDA2CuB,GA3CvB,QA4CwBA,EAAWhH,SAASQ,GA5C5C,yBA+CcxC,KAAK2H,IAAInG,QAAQuD,iBAAiBL,OAAO,CAAElC,GAAIA,EAAIuG,WAAYA,IA/C7E,eAgDcd,EAAWjI,KAAKkI,KAAhBD,OAhDd,UAiDcA,EAAOgB,kBAAkBzG,GAjDvC,yBAmDkCxC,KAAK2H,IAAInG,QAAQ4G,oBAAoBC,WAAM5H,GAnD7E,QAmDQT,KAAKN,aAnDb,qMAoEiCwJ,GApEjC,kFAqEclC,EAAqBkC,EAArBlC,OAAQE,EAAagC,EAAbhC,SACJiC,EAA0BnJ,KAAK6F,oBAAnCrD,GAtEd,SAuEcxC,KAAK2H,IAAInG,QAAQsF,uBAAuBpC,OAAO,CAAElC,GAAI2G,EAAuBnC,OAAQA,EAAQE,SAAUA,IAvEpH,uBA4EkClH,KAAK2H,IAAInG,QAAQ4G,oBAAoBC,WAAM5H,GA5E7E,OA4EQT,KAAKN,aA5Eb,mHAA8B0H,GAA9B,0CAEKR,KAFL,iE,QCSO,IAAMwC,GAAb,cAsBI,WAAYrI,GAAa,IAAD,uBACpB,4CAAMA,KAjBFgD,OAAuB,CAC3B,CAAE/E,KAAM,OAAQgF,KAAM,UACtB,CAAEhF,KAAM,OAAQgF,KAAM,UAcF,EAZhBE,SAAqB,CACzBtE,MAAO,CACHyJ,KAAM,CAAEjF,OAAQ,OAAQC,MAAO,eAAMC,YAAa,0DAClDgF,KAAM,CAAElF,OAAQ,QAASC,MAAO,kBAShB,4IA8BhBkF,cA9BgB,uCA8BA,WAAOC,EAAwBC,EAAeC,GAA9C,eAAArK,EAAA,6DACdL,EAASwK,EAATxK,KADc,SAEd2K,IAAQC,YAAY5K,EAAMyK,GAFZ,OAGpB,EAAK5E,KAAK7F,GAAQyK,EAClBI,IAAIzK,KAAKJ,GAAQyK,EACjBI,IAAIC,gBALgB,2CA9BA,4DAsChBC,iBAtCgB,uCAsCG,WAAOP,EAAwBC,EAAeC,GAA9C,eAAArK,EAAA,6DACjBL,EAASwK,EAATxK,KACN,EAAKgL,YAAYhL,GAAQyK,EAFF,SAGjB,EAAKnK,WAAW2K,cAAc,EAAKD,aAHlB,2CAtCH,4DA4ChBE,wBA5CgB,uCA4CU,WAAOV,EAAwBC,EAAeC,GAA9C,eAAArK,EAAA,6DACxBL,EAASwK,EAATxK,KACN,EAAKmL,mBAAmBnL,GAAQyK,EAFF,SAGxB,EAAKnK,WAAW8K,qBAAqB,EAAKD,oBAHlB,2CA5CV,4DAkDhBvE,KAAO,WAAO,IAAD,iBACX7B,EADW,EACXA,OAAQG,EADG,EACHA,SAAUW,EADP,EACOA,KAAM0E,EADb,EACaA,cADb,EAC4BS,YAD5B,EACyCD,iBADzC,EAC2DI,mBAD3D,EAC+ED,wBAD/E,EACwG5K,WACzH,OAAO,gBAAC,IAAD,CAAMK,OAAO,4BAChB,gBAAC,IAAD,CAAMoE,OAAQA,EAAQG,SAAUA,EAC5BW,KAAMA,EACN0E,cAAeA,MAvDH,MAECM,IAAIzK,KAAnBiK,EAFc,EAEdA,KAAMC,EAFQ,EAERA,KACZ,EAAKzE,KAAO,CACRwE,KAAMA,EACNC,KAAMA,GALU,MAQL,EAAKhK,WAAd4I,KAE6DmC,YAD7D5I,EATc,EASdA,UAAW6I,EATG,EASHA,OAAQ5I,EATL,EASKA,WAAYC,EATjB,EASiBA,iBAAkBC,EATnC,EASmCA,eAAgBqE,EATnD,EASmDA,UACjE/D,EAVc,EAUdA,OAAQgE,EAVM,EAUNA,MAAOqE,EAVD,EAUCA,IAAKC,EAVN,EAUMA,QAAS1I,EAVf,EAUeA,QAASK,EAVxB,EAUwBA,cAVxB,OAWpB,EAAK6H,YAAc,CACfvI,UAAWA,EACX6I,OAAQA,EACR5I,WAAYA,EACZC,iBAAkBA,EAClBC,eAAgBA,GAGpB,EAAKuI,mBAAqB,CACtBlE,UAAWA,EACX/D,OAAQA,EACRgE,MAAOA,EACPqE,IAAKA,EACLzI,QAASA,EACTK,cAAeA,EACfqI,QAASA,GA1BO,EAtB5B,2GAEezK,GAFf,iEAGQC,KAAK2G,SAAS3G,KAAK4F,MAH3B,4GAAgC1F,KAAhC,kCAgBK0G,KAhBL,uGAkBKA,KAlBL,8GAoBKA,KApBL,iECPO,IAAM6D,EAAb,2MAUYC,eAVZ,sBAU6B,sBAAArL,EAAA,sEACfwK,IAAIa,iBADW,2CAV7B,EAcYC,OAASlL,aAAS,WAAO,IACvBL,EAASyK,IAATzK,KACN,QAAaqB,IAATrB,EAAoB,OAAO,KAFH,IAGtBoD,EAAyBpD,EAAzBoD,GAAIxD,EAAqBI,EAArBJ,KAAMqK,EAAejK,EAAfiK,KAAMC,EAASlK,EAATkK,KACtB,OAAO,gBAAC,IAAD,CAAKrK,UAAU,4BAClBoH,KAAM,gBAAC,IAAD,CAAOpH,UAAU,iBAAiBiC,IAAKoI,IAC7CvK,MAAO,gBAAC,IAAD,CAAIE,UAAU,iBAAiBD,KAAK,gBAC3Cc,QAAS,WACL,EAAKiI,UAAUqB,KAEnB,2BACI,2BAkEhB,SAAkBpK,EAAcqK,GAC5B,OAAOA,EACH,gCAAE,yBAAIA,EAAJ,SAAiB,yBAAOpK,UAAU,SAASD,KAC3C,yBAAIA,GArEQ4L,CAAS5L,EAAMqK,IACrB,uBAAKpK,UAAU,SAAQ,wBAAMA,UAAU,cAAhB,OAAvB,IAAgEuD,EAAK,IAAQA,EAAKqI,OAAOrI,EAAK,KAAOrB,OAAO,SA1B5H,6GAEepB,GAFf,yLAOQ8J,IAAIiB,eAPZ,+BA+Bc,IAcFC,EAbI3L,EAASyK,IAATzK,KACJ4L,EAAoB,CACpB,GACA,CACIhH,KAAM,YACNiH,UAAW,uBAAKhM,UAAU,wCACtB,gBAAC,IAAD,CAAUiM,UAAU,iBAAiB5B,KAAK,UAAU6B,KAAK,0BACzD,uBAAKlM,UAAU,cAAf,IAA8BwE,KAGtC,IAIJ,QAAahD,IAATrB,GACA2L,EAAOC,GACFI,KACD,CACIpH,KAAM,YACNiH,UAAW,0BAAQhM,UAAU,6BAA6Ba,QAAS,kBAAM+J,IAAIwB,eAAU5K,GAAW,KAC9F,gBAAC,IAAD,CAAIzB,KAAK,WAAWsM,KAAK,OADlB,6BAMlB,CAAC,IAAD,EACGC,EAAqB,CACrB,GACA,CACIvH,KAAM,YACNwH,GAAI,GACJP,UAAW,0BAAQhM,UAAU,uBAAuBa,QAASE,KAAKyL,MAC9D,gBAAC,IAAD,CAAIzM,KAAK,WAAWsM,KAAK,OADlB,gCAmBnB,EAbAP,EAAO,CACH,GACA,CACI/G,KAAM,YACNiH,UAAW,qBAAMN,OAAN,OAEf,GACA,CACI3G,KAAM,YACNiH,UAAW,gBAAC,IAAD,CAAUC,UAAU,iBAAiB5B,KAAK,MAAM6B,KAAK,6BAChErL,QAASE,KAAK0K,kBAGjBU,KAAL,QAAaJ,EAAb,OAA2BO,IAE/B,OAAO,gBAAC,IAAD,CAAM5L,OAAO,gBAChB,gBAAC,IAAD,CAAUoL,KAAI,YAAMA,GAAO3K,OAAQ,KADhC,SApFf,GAAyBF,KCJlB,IAAMwL,EAAb,2MAeIjE,IAAM,kBAAM,EAAKC,WAAW+C,IAfhC,gWAKwB3L,GALxB,8EAMcuL,EAAgBrK,KAAKkI,KAArBmC,YANd,SAOcA,EAAYJ,cAAcnL,GAPxC,2LAU+BgH,GAV/B,8EAWcuE,EAAgBrK,KAAKkI,KAArBmC,YAXd,SAYcA,EAAYD,qBAAqBtE,GAZ/C,4GAAyBsB,GCAZuE,EAAb,2MAEYC,YAAc,SAACC,EAAYC,GAAmB,IAC5CC,EAAoB,EAAKzM,WAAzByM,gBACAvJ,EAAiBqJ,EAAjBrJ,GAAIwJ,EAAaH,EAAbG,GAAIC,EAASJ,EAATI,KACd,OAAO,uBAAKhN,UAAU,6CAA6Ca,QAAS,kBAAMiM,EAAgBvJ,KAC9F,2BAAK,wBAAMvD,UAAU,oBAAhB,8BAAgD,8BAAS+M,IAC9D,uBAAK/M,UAAU,oBAAmB,gBAAC,IAAD,CAAUgN,KAAMA,OAP9D,sEAWWC,GACH,OAAO,gBAAC,IAAD,CAAMtM,MAAOsM,EAAerN,KAAM,CAAEgB,OAAQG,KAAK4L,aAAeO,KAAK,6CAZpF,GAAuCC,KCE1BC,GAAb,2MAMYC,SAAW,SAACzN,EAAWiN,GAAmB,IACxCS,EAA0B1N,EAA1B0N,KAAMC,EAAoB3N,EAApB2N,SAAUC,EAAU5N,EAAV4N,MAEtB,OAAO,uBAAKC,IAAKZ,EAAO7M,UAAU,wBAC9B,uBAAKA,UAAU,6BACX,uBAAKA,UAAU,eAAc,yBAAIC,YAAGqN,KACpC,uBAAKtN,UAAU,yBACX,wBAAMA,UAAU,kBAAiB,qCAAiB0N,YAAYF,EAAQD,GAAUI,QAAQ,KACxF,yBAAO3N,UAAU,cAAjB,QAAiC0N,WAAWF,EAAMG,QAAQ,IAA1D,SAAkEJ,EAAlE,SAdpB,EAoBYK,gBAAkB,SAACC,GAAoB,IACrCpK,EAAmBoK,EAAnBpK,QAASqK,EAAUD,EAAVC,MAD2B,iBAEpCzN,EAFoC,EAEpCA,WAAYgN,EAFwB,EAExBA,SAClB,OAAO,2BACH,uBAAKrN,UAAU,gBACX,uBAAKA,UAAU,iBAAiBK,EAAW0N,uBAAuBtK,IAClE,uBAAKzD,UAAU,YACX8N,EAAM5F,KAAI,SAAC8F,EAAGnB,GACV,OAAOQ,EAASW,EAAGnB,UA5B3C,EAmCYlG,KAAO,SAACiG,GAAgB,IAMxBqB,EAEIC,EAAUC,EAsBdC,EAAcC,EA5BZC,EAAgB1B,EAAhB0B,MAAO1I,EAASgH,EAAThH,KACPmH,EAAOuB,EAAPvB,GACAwB,EACmC3I,EADnC2I,WAAYzL,EACuB8C,EADvB9C,SAAU0L,EACa5I,EADb4I,gBAAiBC,EACJ7I,EADI6I,eAAgBnL,EACpBsC,EADoBtC,YAAaH,EACjCyC,EADiCzC,YAAauL,EAC9C9I,EAD8C8I,OAAQC,EACtD/I,EADsD+I,mBAAoBC,EAC1EhJ,EAD0EgJ,eAC7GC,EAAmCjJ,EAAnCiJ,WAAYC,EAAuBlJ,EAAvBkJ,oBAEdH,GAAsBC,KAElBD,IACAT,EAAW,uBAAKlO,UAAU,2CACtB,uBAAKA,UAAU,cAAf,iBACA,uBAAKA,UAAU,0BAAyB,qCAAiB2O,KAG7DC,IACAT,EAAa,uBAAKnO,UAAU,2CACxB,uBAAKA,UAAU,cAAf,iBACA,uBAAKA,UAAU,0BAAyB,qCAAiB4O,KAGjEX,EAAW,uBAAKjO,UAAU,oCACtB,uBAAKA,UAAU,oBAAf,uBACA,uBAAKA,UAAU,SACVkO,EACAC,KAMTU,IACAT,EAAe,gCACX,uBAAKpO,UAAU,0BAAyB,qCAAiB6O,IAEzDC,IACAT,EAAuB,gCACnB,uBAAKrO,UAAU,0BAAyB,qCAAiB8O,EAAzD,qBAKZ,IAAIpO,EAAS,6DAASqM,GACtB,OAAO,gBAAC,IAAD,CAAMrM,OAAQA,GACjB,gBAAC,IAAD,CAAMC,MAAO4N,EAAY3O,KAAM,CAAEgB,OAAQ,EAAKgN,mBAC9C,uBAAK5N,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASC,YAAGuO,KAE/B,uBAAKxO,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAASC,YAAGwO,KAE/B,uBAAKzO,UAAU,oCACX,uBAAKA,UAAU,oBAAf,6BACA,uBAAKA,UAAU,SAc/B,SAAyBsD,EAAoBH,GACzC,OAAO,gCACFlD,YAAGqD,EAAayL,QAAevN,GAAW,kBAAM,oCAAO,2BACvDvB,YAAGkD,EAAa6L,QAAexN,GAAW,kBAAM,qCAjBjByN,CAAgB3L,EAAaH,KAEzD,uBAAKnD,UAAU,oCACX,uBAAKA,UAAU,oBAAf,iBACA,uBAAKA,UAAU,SAASoO,EAAcC,IAEzCJ,EACD,uBAAKjO,UAAU,gCACX,wBAAMA,UAAU,gCAAhB,uBAAqD0O,EAAQzO,YAAG6C,OAlGhF,6GAEe8J,GAFf,iEAGQ7L,KAAK2G,SAAS3G,KAAK4F,KAAMiG,GAHjC,4GAAkC3L,KA+GlC,SAAS8N,GAAc5N,GAAc,IAC3BqC,EAAgBrC,EAAhBqC,YACN,OAAO,gCAAGA,GAGd,SAASwL,GAAc7N,GAAc,IAC3BiC,EAAUjC,EAAViC,MACN,OAAO,gCAAGA,GCvHP,IAAM8L,GAAb,2MA8BIpC,gBA9BJ,uCA8BsB,WAAOqC,GAAP,qBAAA/O,EAAA,sEAEI,EAAKsI,IAAIkE,MAAMwC,MAAMC,SAASF,GAFlC,OAEVvC,EAFU,OAGRhH,EAASgH,EAAThH,KACA0J,EAAe1J,EAAf0J,WACFC,EAAoBC,GAAwBF,GAChD1J,EAAK2I,WAAagB,EAClB,EAAKzG,UAAUsE,GAAcR,GAPf,2CA9BtB,wDAwCImB,uBAAyB,SAACtK,GAEtB,OADmB,EAAKwF,KAAlBwG,SACUC,kBAAkBjM,IA1C1C,sHAEwB3C,GAFxB,8OAK6BiI,GAL7B,uFAMuChI,KAAK2H,IAAIkE,MAAM+C,sBAAsBvG,MAAM,CAAEvJ,QAASkJ,IAN7F,cAMY6G,EANZ,yBAOe7O,KAAK0H,WAAWiE,EAAmBkD,IAPlD,wLAU4B7G,GAV5B,iGAWuChI,KAAK2H,IAAIkE,MAAM+C,sBAAsBvG,MAAM,CAAEvJ,QAASkJ,IAX7F,OAWY6G,EAXZ,OAYiBC,EAAI,EAZrB,YAYwBA,EAAID,EAAmBrK,QAZ/C,wBAagBqH,EAAQgD,EAAmBC,GACzBtM,EAAoBqJ,EAApBrJ,GAAIuM,EAAgBlD,EAAhBkD,KAAMC,EAAUnD,EAAVmD,MAd5B,SAekBhP,KAAK2H,IAAIkE,MAAMwC,MAAMY,OAAOzM,EAAIuM,EAAMC,EAAO,QAf/D,OAYuDF,IAZvD,4HAA4B1H,GA8CrB,SAASqH,GAAwBS,GACpC,IAAIC,EAAgB,GADkC,uBAEtD,IAFsD,IAEtD,EAFsD,iBAE7CC,EAF6C,QAG5C1M,EAA6C0M,EAA7C1M,QAAS6J,EAAoC6C,EAApC7C,KAAMC,EAA8B4C,EAA9B5C,SAAUC,EAAoB2C,EAApB3C,MAAO1K,EAAaqN,EAAbrN,SAClCsN,EAAMF,EAAOG,MAAK,SAAAC,GAAC,OAAIA,EAAE7M,QAAQF,KAAOE,EAAQF,WACxC/B,IAAR4O,IACAA,EAAM,CAAE3M,QAASA,EAASqK,MAAO,IACjCoC,EAAO/D,KAAKiE,IAEhB,IAAIG,EAAe,CACfjD,KAAMA,EACNE,MAAOA,EACPD,SAAUA,EACVzK,SAAUA,GAAYA,EAASS,IAEnC6M,EAAItC,MAAM3B,KAAKoE,IAbnB,EAAeN,EAAf,+CAA2B,IAF2B,kFAiBtD,OAAOC,EChEX,I,kBAAMM,GAAQ,SAACC,GAAD,OAAoC,IAAbA,EAAoB,eAAiB,cAE7DC,GAAb,2MAII9P,OAAS,SAACE,GAA8B,IAAD,EACX,EAAKT,WAAvBsQ,EAD6B,EAC7BA,SAAUC,EADmB,EACnBA,IACZC,EAAW,CACX,CAAE9Q,KAAM,OAAQqF,MAAO,eAAMiF,KAAM,OAAQ9J,QAASoQ,EAASnI,IAAKsI,YAAQtP,GAC1E,CAAEzB,KAAM,KAAMqF,MAAO,eAAMiF,KAAM,OAAQ9J,QAASqQ,EAAIpI,MACxDN,KAAI,SAAAZ,GAAM,IACFvH,EAAuCuH,EAAvCvH,KAAMqF,EAAiCkC,EAAjClC,MAAOiF,EAA0B/C,EAA1B+C,KACnB,MAAO,CACHtK,KAAMA,EACNqC,QAAS,SAACqO,GAAD,OAAuBM,YAAoB3L,EAAOiF,EAAMmG,GAAMC,KACvElQ,QAJyC+G,EAApB/G,QAKrBuQ,OALyCxJ,EAAXwJ,WAQtC,OAAO,gBAAC,IAAD,CAAMpQ,QAAQ,GACjB,gBAAC,IAAD,CAAMsQ,KAAMH,MAnBxB,6GACe/P,GADf,iEAEQC,KAAK2G,SAAS3G,KAAKH,QAF3B,4GAA2BK,K,oBCDdgQ,GAAb,2MAOYvB,kBAAoB,SAACjM,GACwCA,EAA3DF,GADqC,IACjCI,EAAuDF,EAAvDE,MAAOH,EAAgDC,EAAhDD,YAAa0N,EAAmCzN,EAAnCyN,aAAclN,EAAqBP,EAArBO,OAAQC,EAAaR,EAAbQ,SAEpD,OAAO,uBAAKjE,UAAU,wBAClB,uBAAKA,UAAU,UACX,uBAAKA,UAAU,QACX,8BAASwD,IAEb,uBAAKxD,UAAU,QACX,8BAASkR,IAEb,uBAAKlR,UAAU,OACX,uBAAKA,UAAU,SACX,gBAAC6B,EAAD,CAAcG,WAAYiC,EAAUjE,UAAU,eAElD,uBAAKA,UAAU,SACX,uBAAKA,UAAU,OACV,EAAKK,WAAW8Q,mBAAmB1N,GACnC2N,GAAgB,eAAMpN,GACtB/D,YAAG0D,EAAO0N,UA1BvC,sEAEWvQ,GACH,OAAO,gCAAGb,YAAGa,EAAOC,KAAK2O,wBAHjC,GAAuCvC,KCA1BmE,IDoCsBnE,ICpCnC,2MASY5M,QAAUC,aAAS,SAACM,GAAgB,IAElCyQ,EAAczQ,EAAdyQ,UAEFC,EAD4B,EAAKnR,WAA/BoR,sBACmCF,GACzC,QAAqB/P,IAAjBgQ,EAA4B,CACsCA,EAA5DE,SADuB,IACb7N,EAAkD2N,EAAlD3N,OAAQD,EAA0C4N,EAA1C5N,IAA0C4N,EAArC1N,gBAAqC0N,EAApBzN,gBAC9C,OAAO,gCACFqN,GAAgB,MAAOxN,GACvBwN,GAAgB,eAAMvN,IAG/B,OAAO,oCArBf,sEAEW/C,GAA0B,IACnByQ,EAAczQ,EAAlByC,GAGN,OAFqBxC,KAAfV,WACKsR,gBAAgBJ,GACpB,qBAAMhR,QAAN,CAAcgR,UAAWA,QANxC,GAAmCpE,MCQtByE,IAAb,wQAMIT,mBAAqB,SAAC1N,GAClB,OAAO,EAAKgF,WAAW6I,GAAe7N,IAP9C,EAUIkO,gBAVJ,uCAUsB,WAAOJ,GAAP,SAAAnR,EAAA,8DACgCoB,IAA1C,EAAKiQ,sBAAsBF,GADjB,gCAEoC,EAAK7I,IAAIjF,QAAQoO,gBAAgBpI,IAAI,CAAEhG,QAAS8N,IAFpF,OAEV,EAAKE,sBAAsBF,GAFjB,kDAVtB,wDAgBI7B,kBAAoB,SAACjM,GACjB,OAAO,EAAKgF,WAAWwI,GAAmBxN,IAjBlD,sHAGkC3C,GAHlC,iKAA8BqH,GAA9B,qDACKR,KADL,wEACsE,MADtE,IAqBO,SAAS0J,GAAY1N,GACxB,OAAOyN,GAAgB,eAAMzN,EAAM5D,MAGhC,SAASqR,GAAgBhP,EAAiBC,EAAYyP,GACzD,GAAc,OAAVzP,QAA4Bb,IAAVa,GAAiC,MAAVA,EAAe,OAAO,KACnE,IAAI0P,EAAWD,EAAeE,KAAWF,GAAgBE,KAAW,cAChEC,EAAWH,EAAeE,KAAWF,GAAgB,GACzD,OAAO,gCACH,uBAAK9R,UAAWgS,KAAW,4BAA6BD,IAAxD,IAAqE3P,GACrE,uBAAKpC,UAAWgS,KAAW,iBAAkBC,IAAY5P,ICvC1D,IAAMiH,IAAb,cAkCI,WAAYZ,GAAW,IAAD,gCAhCtBnF,QAgCsB,OA/BtBxD,UA+BsB,OA9BtBqK,UA8BsB,OA7BtBC,UA6BsB,OA5BtB6H,WA4BsB,OA3BtBC,WA2BsB,6CAxBtB9G,YAwBsB,OAvBtB5I,gBAuBsB,oDArBtBE,oBAqBsB,OAnBtBqE,eAmBsB,0CAjBtBC,WAiBsB,OAhBtBqE,SAgBsB,OAftBzI,aAesB,OAdtBK,mBAcsB,OAbtBqI,aAasB,OAPd6G,WAOc,OALdC,qBAKc,OAHd3J,SAGc,OAItB4J,QAJsB,uCAIZ,WAAOnS,GAAP,SAAAC,EAAA,8DACOoB,IAATrB,EADE,wBAEF,EAAKiS,MAAQjS,EACb,EAAKoD,GAAKpD,EAAKoD,GACf,EAAKxD,KAAOI,EAAKJ,KACjB,EAAKqK,KAAOjK,EAAKiK,KACjB,EAAKC,KAAOlK,EAAKkK,KACjB,EAAK6H,MAAQ/R,EAAK+R,MAClB,EAAKC,MAAQhS,EAAKgS,MARhB,UAUI,EAAKI,cAVT,4CAJY,2DAwDtBC,qBAxDsB,EAClBzR,KAAK2H,IAAMA,EAnCnB,0DAuBQ,YAAgClH,IAAzBT,KAAKyR,iBACPzR,KAAKkC,QAAUlC,KAAKyB,WAAazB,KAAK2B,qBAxBnD,kMAqD4B3B,KAAdwC,GAAcxC,KAAVqR,WACS5Q,IAAfT,KAAKqR,MAtDjB,iCAuDgCrR,KAAK2H,IAAInG,QAAQ+G,QAAQC,KAAKxI,KAAKwC,IAvDnE,cAuDgB1D,EAvDhB,UAyDsB2C,EAAoE3C,EAApE2C,UAAW6I,EAAyDxL,EAAzDwL,OAAQ5I,EAAiD5C,EAAjD4C,WAAYC,EAAqC7C,EAArC6C,iBAAkBC,EAAmB9C,EAAnB8C,eACvD5B,KAAKyB,UAAYA,EACjBzB,KAAKsK,OAASA,EACdtK,KAAK0B,WAAaA,EAClB1B,KAAK2B,iBAAmBA,EACxB3B,KAAK4B,eAAiBA,GA9DtC,SAgEgC5B,KAAK2H,IAAInG,QAAQiH,eAAeC,IAAI,CAAE5J,QAASkB,KAAKwC,KAhEpF,cAgEgBP,EAhEhB,UAkEsBgE,EAAmEhE,EAAnEgE,UAAW/D,EAAwDD,EAAxDC,OAAQgE,EAAgDjE,EAAhDiE,MAAOqE,EAAyCtI,EAAzCsI,IAAKzI,EAAoCG,EAApCH,QAASK,EAA2BF,EAA3BE,cAAeqI,EAAYvI,EAAZuI,QAC7DxK,KAAKiG,UAAYA,EACjBjG,KAAKkC,OAASA,EACdlC,KAAKkG,MAAQA,EACblG,KAAKuK,IAAMA,EACXvK,KAAK8B,QAAUA,EACf9B,KAAKmC,cAAgBA,EACrBnC,KAAKwK,QAAUA,GAzE/B,UA2EyCxK,KAAK2H,IAAInG,QAAQkQ,eAAehJ,IAAI,CAAE5J,QAASkB,KAAKwC,KA3E7F,kDA2EsG,CAAE1D,QAASkB,KAAKwC,IA3EtH,eA2EYxC,KAAKsR,gBA3EjB,eA4E8BtR,KAAK2H,IAAInG,QAAQmQ,gBAAgBjJ,IAAI,CAAE5J,QAASkB,KAAKwC,KA5EnF,gBA6EyB/B,IADTa,EA5EhB,gCA8EgBtB,KAAKyR,gBAAkB,IAAIG,GAAStQ,EAAMU,SAAUhC,KAAK2H,KA9EzE,UA+EsB3H,KAAKyR,gBAAgBI,OA/E3C,qQAkGqB7R,KAAK2H,IAAInG,QAAQsQ,gBAAgBzJ,MAAM,CAAEvJ,QAASkB,KAAKwC,KAlG5E,wNAqGqBuP,GArGrB,iFA4Gc/R,KAAK2H,IAAInG,QAAQsQ,gBAAgBE,IAAI,CAAElT,QAASkB,KAAKwC,GAAIyP,KAAM,CAAC,CAAEhQ,QAAS8P,MA5GzF,iLA+GqBA,GA/GrB,iFAsHc/R,KAAK2H,IAAInG,QAAQsQ,gBAAgBI,IAAI,CAAEpT,QAASkB,KAAKwC,GAAIyP,KAAM,CAAC,CAAEhQ,QAAS8P,MAtHzF,6QA+He/R,KAAKsR,iBA/HpB,+LAkIoCS,GAlIpC,iEAyIQ/R,KAAKsR,gBAAgB7D,gBAAkBsE,EACvC/R,KAAKmS,sBA1Ib,+LA6ImCJ,GA7InC,iEAoJQ/R,KAAKsR,gBAAgB5D,eAAiBqE,EACtC/R,KAAKmS,sBArJb,wLAwJ4BC,EAAsBC,GAxJlD,iEAgKQrS,KAAKsR,gBAAgB/O,YAAc6P,EACnCpS,KAAKsR,gBAAgBlP,YAAciQ,EACnCrS,KAAKmS,sBAlKb,+QAsKcnS,KAAK2H,IAAInG,QAAQkQ,eAAeM,IAAIhS,KAAKsR,iBAtKvD,mLA0KwBxS,GA1KxB,iFA2KckB,KAAK2H,IAAInG,QAAQ+G,QAAQ+J,KAAKtS,KAAKwC,GAAI1D,GA3KrD,uBA4KckB,KAAKwR,cA5KnB,2LA+K+B1L,GA/K/B,wEAgLQA,EAAehH,QAAUkB,KAAKwC,GAhLtC,SAiLcxC,KAAK2H,IAAInG,QAAQiH,eAAeuJ,IAAIlM,GAjLlD,uBAkLc9F,KAAKwR,cAlLnB,uIAqFQ,YAAsB/Q,IAAfT,KAAKqR,QArFpB,kCAwFQ,YAAgC5Q,IAAzBT,KAAKyR,oBAxFpB,8CASK7K,KATL,8GAYKA,KAZL,oGAgBKA,KAhBL,wGAsBK2L,KAtBL,gFAsLaX,GAAb,WASI,WAAY5P,EAAiB2F,GAAW,yBARvBA,SAQsB,OANvCnF,QAMuC,OAF/BgQ,sBAE+B,EACnCxS,KAAKwC,GAAKR,EAASQ,GACnBxC,KAAK2H,IAAMA,EAXnB,oLAmBqB3H,KAAK2H,IAAI3F,SAASyQ,iBAAiBpK,MAAM,CAAErG,SAAUhC,KAAKwC,KAnB/E,wNAsBqBuP,GAtBrB,iFAuBc/R,KAAK2H,IAAI3F,SAASyQ,iBAAiBT,IAAI,CAAEhQ,SAAUhC,KAAKwC,GAAIyP,KAAM,CAAC,CAAEhQ,QAAS8P,MAvB5F,iLA0BqBA,GA1BrB,iFA2Bc/R,KAAK2H,IAAI3F,SAASyQ,iBAAiBP,IAAI,CAAElQ,SAAUhC,KAAKwC,GAAIyP,KAAM,CAAC,CAAEhQ,QAAS8P,MA3B5F,8PA+BsC/R,KAAK2H,IAAI3F,SAAS0Q,gBAAgBhK,IAAI,CAAE1G,SAAUhC,KAAKwC,KA/B7F,gDA+BsG,CAAER,SAAUhC,KAAKwC,IA/BvH,OA+BQxC,KAAKwS,iBA/Bb,8IAmCQ,OAAOxS,KAAKwS,mBAnCpB,yFAsCoCT,GAtCpC,wEAuCQ/R,KAAKwS,iBAAiB/E,gBAAkBsE,EAvChD,SAwCc/R,KAAK2S,qBAxCnB,+LA2CmCZ,GA3CnC,wEA4CQ/R,KAAKwS,iBAAiB9E,eAAiBqE,EA5C/C,SA6Cc/R,KAAK2S,qBA7CnB,wLAgD4BP,EAAsBC,GAhDlD,wEAiDQrS,KAAKwS,iBAAiBjQ,YAAc6P,EACpCpS,KAAKwS,iBAAiBpQ,YAAciQ,EAlD5C,SAmDcrS,KAAK2S,qBAnDnB,8QAuDc3S,KAAK2H,IAAI3F,SAAS0Q,gBAAgBV,IAAIhS,KAAKwS,kBAvDzD,6GChLaI,GAAb,2MAGIC,YAHJ,IAKIC,wBALJ,IAMIC,qBANJ,IAOI1I,iBAPJ,IASIuF,cATJ,IAUIlB,cAVJ,IAWImB,SAXJ,IAYI5H,YAZJ,sEAcsCjE,GAC9B,OAAO,IAAIA,EAAKhE,QAfxB,gKAoBwCA,KAAK2H,IAAI9F,OAAOmR,YAAYxK,KAAK9E,EAAQG,gBApBjF,cAoBQ7D,KAAK8S,mBApBb,gBAqBqC9S,KAAK2H,IAAI9F,OAAOoR,SAASzK,KAAK9E,EAAQE,SArB3E,OAqBQ5D,KAAK+S,gBArBb,OAsBQ/S,KAAKqK,YAAc,IAAI9B,GAAQvI,KAAK2H,KACpC3H,KAAKqK,YAAYkH,QAAQvR,KAAKZ,MAE9BY,KAAK4P,SAAW5P,KAAKkT,KAAK3L,GAC1BvH,KAAK0O,SAAW1O,KAAKkT,KAAKrC,IAC1B7Q,KAAK6P,IAAM7P,KAAKkT,KAAKxH,GACrB1L,KAAKiI,OAASjI,KAAKkT,KAAK/E,IAExBnO,KAAK6S,OAAShJ,IAAIgJ,SAClB7S,KAAKmT,WA/Bb,sIAkCaC,GACLpT,KAAK+H,UAAU4H,GAAOyD,KAnC9B,0BACqB,OAAOpT,KAAKqH,SADjC,GAAyCgM,KCLnC5P,GAAuB,CAC3B6P,QAAS,oEACTC,QAAS,QACThS,IAAKA,GAGPsI,IAAI2J,YAAY/P,IAEhB,IASegQ,GATO,WAEpB,IAAIC,EAAS,uCAAG,sBAAArU,EAAA,sEACRsU,YAAMf,GAAqBnP,IADnB,2CAAH,qDAIb,OAAO,kBAAC,IAAD,CAASiQ,UAAWA,KCRTE,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXJC,IAASpU,OAAO,kBAAC,GAAD,MAASqU,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.46ee2e1f.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { CWebUser } from './CWebUser';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, List, LMR, FA, tv } from 'tonva';\r\n\r\nexport class VPendingAuditUserList extends VPage<CWebUser> {\r\n\r\n    async open(param?: any) {\r\n\r\n    }\r\n\r\n    render(param?: any): JSX.Element {\r\n        this.controller.getPendingUsers();\r\n        return <this.content />\r\n    }\r\n\r\n    private renderPendingUser = (item: any) => {\r\n        let { webUser } = item;\r\n        let right = <FA name=\"chevron-right\" className=\"chevron-right align-self-center\"></FA>\r\n        return <LMR right={right} className=\"p-3\">\r\n            {tv(webUser)}\r\n        </LMR>\r\n    }\r\n\r\n    private onUserClick = async (user: any) => {\r\n        await this.controller.openPendingAuditUserDetail(user);\r\n    }\r\n\r\n    private content = observer(() => {\r\n\r\n        let { pendingUsers } = this.controller;\r\n        return <Page header=\"待审核客户\">\r\n            <List items={pendingUsers} item={{ render: this.renderPendingUser, onClick: this.onUserClick }} />\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","import * as React from 'react';\r\nimport { Image } from 'tonva';\r\n\r\nconst imagePath = \"http://www.jkchemical.com/static/Structure/\";\r\nconst altimagePath = \"http://www.jkchemical.com/static/Structure/999.png\";\r\n\r\ninterface ProductImageProps {\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n    chemicalId: string;\r\n}\r\n\r\nexport function ProductImage(props: ProductImageProps) {\r\n\r\n    let { style, className, chemicalId } = props;\r\n    return <Image src={chemicalId && (imagePath + chemicalId.substr(0, 3) + '/' + chemicalId + '.png')}\r\n        style={style} className={className} altImage={altimagePath} />;\r\n}\r\n","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\nimport { ProductImage } from 'tools/productImage';\r\n\r\nexport const tvProduct = (values: any) => {\r\n    let product = values;\r\n    let { brand, description, CAS, purity, molecularFomula, molecularWeight, origin, imageUrl } = product;\r\n    return <div className=\"row d-flex\">\r\n        <div className=\"col-12\">\r\n            <div className=\"row py-2\">\r\n                <div className=\"col-12\"><strong>{description}</strong></div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    <div className=\"row\">\r\n                        {item('CAS', CAS)}\r\n                        {item('纯度', purity)}\r\n                        {item('分子式', molecularFomula)}\r\n                        {item('分子量', molecularWeight)}\r\n                        {item('产品编号', origin)}\r\n                        {tv(brand, (values: any) => <>{item(\"品牌\", values.name)}</>)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nconst tvPackx = (values: any) => {\r\n    let { radiox, radioy, unit } = values;\r\n    if (radiox !== 1) return <>{radiox} * {radioy}{unit}</>;\r\n    return <>{radioy}{unit}</>;\r\n}\r\n\r\nfunction item(caption: string, value: any) {\r\n    if (value === null || value === undefined) return null;\r\n    return <>\r\n        <div className=\"col-4 text-muted pr-0\">{caption}:</div>\r\n        <div className=\"col-8\">{value}</div>\r\n    </>;\r\n}\r\n\r\nconst tvProductCategory = (values: any) => {\r\n    let { children } = values;\r\n    return <>\r\n        aaa\r\n    </>\r\n};\r\n\r\nexport const product = {\r\n    productx: tvProduct,\r\n    packx: tvPackx,\r\n    productCategory: tvProductCategory,\r\n}\r\n","import { TVs } from 'tonva';\r\nimport { webuser } from './webuser';\r\nimport { common } from './common';\r\nimport { customer } from './customer';\r\nimport { product } from './product';\r\n\r\nexport const tvs: TVs = {\r\n    webuser: webuser,\r\n    common: common,\r\n    customer: customer,\r\n    product: product\r\n}","import * as React from 'react';\r\n\r\nexport const tvWebUser = (value: any) => {\r\n    let { firstName, salutation, organizationName, departmentName } = value;\r\n    return <>\r\n        <div className=\"mr-3\"><strong>{firstName}</strong> <span className=\"small\">{salutation}</span></div>\r\n        <div className=\"small text-muted\">{organizationName} &nbsp;{departmentName}</div>\r\n    </>\r\n}\r\n\r\nexport const webuser = {\r\n    webuser: tvWebUser\r\n}","import * as React from 'react';\r\nimport { tv } from 'tonva';\r\nimport { tvAddress, tvCountry } from './common';\r\n\r\nexport const tvContact = (values: any) => {\r\n    let { name, mobile, organizationName, address, addressString } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        <b>\r\n            {name}\r\n        </b>\r\n        &nbsp; {mobile} &nbsp; {organizationName}<br />\r\n        <small>{tv(address)} {addressString}</small>\r\n    </div>\r\n}\r\n\r\nexport const tvInvoiceType = (values: any) => {\r\n    let { id, description } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        {description}\r\n    </div>\r\n}\r\n\r\nexport const tvInvoiceInfo = (values: any) => {\r\n    let { title, taxNo } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        <b>\r\n            {title}\r\n        </b>\r\n        &nbsp; {taxNo}\r\n    </div>\r\n}\r\n\r\nexport const customer = {\r\n    contact: tvContact,\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    invoiceInfo: tvInvoiceInfo,\r\n    invoiceType: tvInvoiceType\r\n}\r\n","import { AppConfig } from 'tonva';\r\nimport { tvs } from 'tvs';\r\n\r\nexport const appConfig: AppConfig = {\r\n    appName: \"百灵威系统工程部/customer-service\",\r\n    version: \"1.0.3\",                   // 版本变化，缓存的uqs才会重载\r\n    tvs: tvs,\r\n};\r\n\r\nconst GLOABLE = {\r\n    CHINA: 44,\r\n    CHINESE: 196,\r\n    SALESREGION_CN: 1,\r\n    TIPDISPLAYTIME: 3000,\r\n}\r\n\r\n/*\r\nconst GLOABLE = {\r\n    CHINA: 43,\r\n    CHINESE: 197,\r\n    SALESREGION_CN: 4,\r\n    TIPDISPLAYTIME: 3000,\r\n}\r\n*/\r\n\r\nexport default GLOABLE;","import * as React from 'react';\r\nimport { VPage, Page, Form, Schema, UiSchema, UiInputItem, UiButton, Context, FA, LMR } from 'tonva';\r\nimport { CWebUser } from './CWebUser';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport GLOABLE from 'configuration';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'customer', type: 'string', required: true },\r\n    { name: 'teacher', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' },\r\n];\r\n\r\nconst uiSchema: UiSchema = {\r\n    items: {\r\n        id: { visible: false },\r\n        customer: {\r\n            widget: 'text', label: '客户CID', placeholder: '客户CID', rules: (value) => {\r\n                return value && value.length > 30 ? 'CID过长，请检查后输入。' : undefined;\r\n            }\r\n        } as UiInputItem,\r\n        teacher: {\r\n            widget: 'text', label: '老师CID', placeholder: '老师CID', rules: (value) => {\r\n                return value && value.length > 30 ? 'CID过长，请检查后输入。' : undefined;\r\n            }\r\n        } as UiInputItem,\r\n        submit: { widget: 'button', label: '审核通过', visible: false, className: \"btn btn-primary\" } as UiButton,\r\n    }\r\n}\r\n\r\nexport class VPendingAuditUser extends VPage<CWebUser> {\r\n\r\n    private form: Form;\r\n    private data: any = {};\r\n    private pendingOrderList: JSX.Element;\r\n    @observable tips: JSX.Element;\r\n\r\n    async open(param?: any) {\r\n        let { currentAuditingUser } = this.controller;\r\n        this.pendingOrderList = await this.controller.renderPendingOrders(currentAuditingUser.id);\r\n        this.openPage(this.page, param);\r\n    }\r\n\r\n    private auditPendingUser = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { data } = context.form;\r\n        let { customer, teacher } = data;\r\n        // 为了在界面更新后仍显示填写的内容，需要将结果保存起来\r\n        this.data.customer = customer;\r\n        this.data.teacher = teacher;\r\n\r\n        let ret = await this.controller.auditPendingUser(data);\r\n        switch (ret) {\r\n            case 1:\r\n                this.tips = <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <FA name=\"exclamation-circle\" className=\"exclamation-circle mr-2\"></FA>审核失败，必须填写客户CID!\r\n                </div>\r\n                break;\r\n            case 2:\r\n                this.tips = <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <FA name=\"exclamation-circle\" className=\"exclamation-circle mr-2\"></FA>审核失败，你填写的客户CID不存在!\r\n                </div>\r\n                break;\r\n            case 4:\r\n                this.tips = <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <FA name=\"exclamation-circle\" className=\"exclamation-circle mr-2\"></FA>审核失败，你填写的老师CID不存在!\r\n                </div>\r\n                break;\r\n            default:\r\n                let leftseconds = 3;\r\n                this.tips = <div className=\"alert alert-success\" role=\"alert\">\r\n                    <FA name=\"check-circle\" className=\"check-circle mr-2\"></FA>审核成功{leftseconds}\r\n                </div>\r\n                let h = setInterval(() => {\r\n                    leftseconds--;\r\n                    this.tips = <div className=\"alert alert-success\" role=\"alert\">\r\n                        <FA name=\"check-circle\" className=\"check-circle mr-2\"></FA>审核成功{leftseconds}\r\n                    </div>\r\n                }, 1000);\r\n                setTimeout(() => {\r\n                    clearInterval(h);\r\n                    this.backPage();\r\n                }, 3000);\r\n                break;\r\n        }\r\n        setTimeout(() => {\r\n            this.tips = undefined;\r\n        }, GLOABLE.TIPDISPLAYTIME);\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let { currentAuditingUser, webUserContact, openAuditRefuse } = this.controller;\r\n        let { id, firstName, salutation, organizationName, departmentName } = currentAuditingUser;\r\n\r\n        let contactInfoUi = <div className=\"col-12 text-danger\">该用户未填写手机号、电话或Email信息</div>;\r\n        if (webUserContact) {\r\n            let { telephone, mobile, email } = webUserContact;\r\n            contactInfoUi = <>\r\n                <div className=\"col-4 text-muted\">手机:</div>\r\n                <div className=\"col-8\"><a href={`tel:${mobile}`}>{mobile}</a></div>\r\n                <div className=\"col-4 text-muted\">电话:</div>\r\n                <div className=\"col-8\"><a href={`tel:${telephone}`}>{telephone}</a></div>\r\n                <div className=\"col-4 text-muted\">Email:</div>\r\n                <div className=\"col-8\"><a href={`mailto:${email}`}>{email}</a></div>\r\n            </>;\r\n        }\r\n\r\n        this.data.id = id;\r\n        let footer = <LMR\r\n            right={<button type=\"button\"\r\n                className=\"btn btn-primary m-1\"\r\n                onClick={this.auditPendingUser}>通过</button>}\r\n            left={\r\n                <button type=\"button\"\r\n                    className=\"btn btn-outline-primary m-1\"\r\n                    onClick={openAuditRefuse}>不通过</button>}\r\n        />\r\n        return <Page header=\"待审核客户详情\" footer={footer}>\r\n            <div className=\"bg-white p-3 mt-1\">\r\n                <strong className=\"large\">{firstName}</strong> <span className=\"small text-muted\">{salutation}</span>\r\n            </div>\r\n            <div className=\"row bg-white pb-3 pl-4 pr-3\">\r\n                {contactInfoUi}\r\n                <div className=\"col-4 text-muted\">单位:</div>\r\n                <div className=\"col-8\">{organizationName}</div>\r\n                <div className=\"col-4 text-muted\">部门:</div>\r\n                <div className=\"col-8\">{departmentName}</div>\r\n            </div>\r\n            <div className=\"card my-2 p-2\">\r\n                <h5 className=\"card-title\">审核</h5>\r\n                {this.tips}\r\n                <Form ref={v => this.form = v} schema={schema}\r\n                    uiSchema={uiSchema}\r\n                    formData={this.data}\r\n                    className=\"bg-white px-3\"\r\n                    onButtonClick={this.onFormButtonClick}></Form>\r\n            </div>\r\n            <div className=\"card my-2 p-2\">\r\n                <h5 className=\"card-title\">未审核订单列表</h5>\r\n                {this.pendingOrderList}\r\n            </div>\r\n        </Page>\r\n    });\r\n}","import * as React from 'react';\r\nimport { VPage, Page, Schema, UiSchema, UiInputItem, UiButton, UiRadio, Form, Context, FA } from 'tonva';\r\nimport { CWebUser } from './CWebUser';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'reason', type: 'id', required: true },\r\n    { name: 'comments', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' },\r\n];\r\n\r\nexport class VPendingAuditUserRefuse extends VPage<CWebUser> {\r\n\r\n    @observable tips: JSX.Element;\r\n    async open(param: any) {\r\n        (this.uiSchema.items.reason as UiRadio).list = (param as any[]).map(v => { return { value: v.id, title: v.description } });\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n\r\n        let { data } = context.form;\r\n        this.controller.auditPendingUserRefuse(data);\r\n        let leftseconds = 3;\r\n        this.tips = <div className=\"alert alert-success\" role=\"alert\">\r\n            <FA name=\"check-circle\" className=\"check-circle mr-2\"></FA>操作成功{leftseconds}\r\n        </div>\r\n        let h = setInterval(() => {\r\n            leftseconds--;\r\n            this.tips = <div className=\"alert alert-success\" role=\"alert\">\r\n                <FA name=\"check-circle\" className=\"check-circle mr-2\"></FA>操作成功{leftseconds}\r\n            </div>\r\n        }, 1000);\r\n        setTimeout(() => {\r\n            clearInterval(h);\r\n            this.closePage(2);\r\n        }, 3000);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            reason: { widget: 'radio', label: '拒绝原因', list: [] } as UiRadio,\r\n            comments: {\r\n                widget: 'text', label: '备注', placeholder: '备注', rules: (value) => {\r\n                    return value && value.length > 100 ? '备注最多可以输入100个字。' : undefined;\r\n                }\r\n            } as UiInputItem,\r\n            submit: { widget: 'button', label: '审核不通过', visible: true, className: \"btn btn-primary w-100\" } as UiButton\r\n        }\r\n    }\r\n\r\n    private page = observer(() => {\r\n        return <Page header='审核不通过'>\r\n            <Form schema={schema}\r\n                className=\"px-3 pb-3\"\r\n                uiSchema={this.uiSchema} onButtonClick={this.onFormButtonClick}></Form>\r\n            {this.tips}\r\n        </Page>\r\n    })\r\n}","import { CSub, CBase } from \"tonva\";\r\nimport { UQs } from \"./uqs\";\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    protected get uqs(): UQs {return this._uqs as UQs}\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    protected get uqs(): UQs {return this._uqs as UQs}\r\n    protected readonly owner: CUqBase;\r\n}\r\n","import { VPendingAuditUserList } from './VPendingAuditUserList';\r\nimport { observable } from 'mobx';\r\nimport { VPendingAuditUser } from './VPendingAuditUser';\r\nimport { VPendingAuditUserRefuse } from './VPendingAuditUserRefuse';\r\nimport { CUqBase } from 'CBase';\r\n\r\nexport class CWebUser extends CUqBase {\r\n\r\n    @observable pendingUsers: any[];\r\n\r\n    currentAuditingUser: any;\r\n    webUserContact: any;\r\n\r\n    protected async internalStart() {\r\n        // this.pendingUsers = await this.uqs.webuser.getPendingAuditUser.table(undefined);\r\n    }\r\n\r\n    tab = () => this.renderView(VPendingAuditUserList);\r\n\r\n    async getPendingUsers() {\r\n        this.pendingUsers = await this.uqs.webuser.getPendingAuditUser.table(undefined);\r\n    }\r\n\r\n    async openPendingAuditUserDetail(user: any) {\r\n        let { webUser: webUserBox } = user;\r\n        let { id } = webUserBox;\r\n        this.currentAuditingUser = await this.uqs.webuser.WebUser.load(id);\r\n        this.webUserContact = await this.uqs.webuser.WebUserContact.obj({ webUser: id });\r\n        this.openVPage(VPendingAuditUser);\r\n    }\r\n\r\n    /**\r\n     * 审核通过操作\r\n     * @param data ：包含审核通过之后的内部cid\r\n     */\r\n    async auditPendingUser(data: any) {\r\n        let { id, customer: customerNo, teacher: teacherNo } = data;\r\n        if (!customerNo)\r\n            return 1;\r\n        let customerBox = await this.uqs.customer.getCustomerByNo.obj({ customerNo: customerNo });\r\n        if (!customerBox)\r\n            return 2;\r\n\r\n        let { id: customerId } = customerBox.customer;\r\n        /*eslint no-unused-vars: 0*/\r\n        let teacherId;\r\n        if (teacherNo) {\r\n            let teacherBox = await this.uqs.customer.getCustomerByNo.obj({ customerNo: teacherNo });\r\n            if (!teacherBox)\r\n                return 4;\r\n            teacherId = teacherBox.customer.id;\r\n        }\r\n\r\n        await this.uqs.webuser.auditPendingUser.submit({ id: id, customerId: customerId });\r\n        let { cOrder } = this.cApp;\r\n        await cOrder.auditPendingOrder(id);\r\n        // 刷新列表\r\n        this.pendingUsers = await this.uqs.webuser.getPendingAuditUser.table(undefined);\r\n    }\r\n\r\n    /**\r\n     * 打开审核不通过界面\r\n     */\r\n    openAuditRefuse = async () => {\r\n\r\n        let reasons = await this.uqs.webuser.AuditPendingUserRefuseReason.search(undefined, 0, 100);\r\n        this.openVPage(VPendingAuditUserRefuse, reasons);\r\n        //await this.controller.auditPendingUserRefuse(this.data.id);\r\n    }\r\n\r\n    /**\r\n     * 审核不通过操作\r\n     * @param reasonData\r\n     */\r\n    async auditPendingUserRefuse(reasonData: any) {\r\n        let { reason, comments } = reasonData;\r\n        let { id: currentAuditingUserId } = this.currentAuditingUser;\r\n        await this.uqs.webuser.auditPendingUserRefuse.submit({ id: currentAuditingUserId, reason: reason, comments: comments });\r\n        /*\r\n        let { cOrder } = this.cApp;\r\n        await cOrder.cancelPendingOrder(currentAuditingUserId);\r\n        */\r\n        this.pendingUsers = await this.uqs.webuser.getPendingAuditUser.table(undefined);\r\n    }\r\n\r\n    /**\r\n     * 显示待审核客户的未审核订单\r\n     */\r\n    renderPendingOrders = async (webUserId: bigint) => {\r\n        let { cOrder } = this.cApp;\r\n        return await cOrder.renderPendingOrder(webUserId);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observable } from 'mobx';\r\nimport {\r\n    userApi, ItemSchema, StringSchema, ImageSchema, UiTextItem, UiImageItem, nav, Page,\r\n    Edit, UiSchema,\r\n    VPage, UiRadio, IdSchema, UiIdItem, Context, BoxId, tv\r\n} from 'tonva';\r\nimport { CMe } from './CMe';\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation,\r\n    organizationNameValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from '../tools/inputValidations';\r\n\r\nexport class EditMeInfo extends VPage<CMe>{\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: ItemSchema[] = [\r\n        { name: 'nick', type: 'string' } as StringSchema,\r\n        { name: 'icon', type: 'image' } as ImageSchema,\r\n    ];\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            nick: { widget: 'text', label: '别名', placeholder: '好的别名更方便记忆' } as UiTextItem,\r\n            icon: { widget: 'image', label: '头像' } as UiImageItem,\r\n        }\r\n    }\r\n    @observable private data: any;\r\n\r\n    @observable private webUserData: any;\r\n\r\n    @observable private webUserContactData: any;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        let { nick, icon } = nav.user;\r\n        this.data = {\r\n            nick: nick,\r\n            icon: icon,\r\n        };\r\n\r\n        let { cApp } = this.controller;\r\n        let { firstName, gender, salutation, organizationName, departmentName, telephone\r\n            , mobile, email, fax, zipCode, address, addressString } = cApp.currentUser;\r\n        this.webUserData = {\r\n            firstName: firstName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            organizationName: organizationName,\r\n            departmentName: departmentName,\r\n        };\r\n\r\n        this.webUserContactData = {\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            address: address,\r\n            addressString: addressString,\r\n            zipCode: zipCode,\r\n        }\r\n    }\r\n\r\n    private onItemChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        await userApi.userSetProp(name, newValue);\r\n        this.data[name] = newValue;\r\n        nav.user[name] = newValue;\r\n        nav.saveLocalUser();\r\n    }\r\n\r\n    private onWebUserChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.webUserData[name] = newValue;\r\n        await this.controller.changeWebUser(this.webUserData);\r\n    }\r\n\r\n    private onWebUserContactChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.webUserContactData[name] = newValue;\r\n        await this.controller.changeWebUserContact(this.webUserContactData);\r\n    }\r\n\r\n    private page = () => {\r\n        let { schema, uiSchema, data, onItemChanged, webUserData, onWebUserChanged, webUserContactData, onWebUserContactChanged, controller } = this;\r\n        return <Page header=\"个人信息\">\r\n            <Edit schema={schema} uiSchema={uiSchema}\r\n                data={data}\r\n                onItemChanged={onItemChanged} />\r\n        </Page>;\r\n    }\r\n}\r\n\r\nexport const webUserSchema: ItemSchema[] = [\r\n    { name: 'firstName', type: 'string', required: true } as StringSchema,\r\n    { name: 'gender', type: 'string' } as StringSchema,\r\n    { name: 'salutation', type: 'string' } as StringSchema,\r\n    { name: 'organizationName', type: 'string', required: true } as StringSchema,\r\n    { name: 'departmentName', type: 'string' } as StringSchema,\r\n];\r\n\r\nexport const webUserUiSchema: UiSchema = {\r\n    items: {\r\n        firstName: {\r\n            widget: 'text', label: '真实姓名',\r\n            placeholder: '化学品是受国家安全法规限制的特殊商品，百灵威提供技术咨询、资料以及化学产品的对象必须是具有化学管理和应用能力的专业单位（非个人）。为此，需要您重新提供非虚拟的、可核查的信息。',\r\n            rules: nameValidation\r\n        } as UiTextItem,\r\n        gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n        salutation: { widget: 'text', label: '称谓', rules: salutationValidation } as UiTextItem,\r\n        organizationName: { widget: 'text', label: '单位名称', rules: organizationNameValidation } as UiTextItem,\r\n        departmentName: { widget: 'text', label: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n    }\r\n}\r\n\r\n// 个人联系方式信息\r\nexport const webUserContactSchema: ItemSchema[] = [\r\n    { name: 'telephone', type: 'string' } as StringSchema,\r\n    { name: 'mobile', type: 'string', required: true } as StringSchema,\r\n    { name: 'email', type: 'string' } as StringSchema,\r\n    { name: 'fax', type: 'string', required: false } as StringSchema,\r\n    { name: 'address', type: 'id', required: false } as IdSchema,\r\n    { name: 'addressString', type: 'string', required: false } as StringSchema,\r\n    { name: 'zipCode', type: 'string', required: false } as StringSchema,\r\n];\r\n\r\nexport function webUserContactUiSchema(pickAddress: any) {\r\n    return {\r\n        items: {\r\n            telephone: { widget: 'text', label: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', rules: mobileValidation } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', rules: emailValidation, placeholder: 'Email' } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n        }\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { nav, User, Page, Image, VPage } from 'tonva';\r\nimport { Prop, Media, IconText, FA, PropGrid, LMR } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { EditMeInfo } from './EditMeInfo';\r\nimport { CMe } from './CMe';\r\nimport { appConfig } from 'configuration';\r\n\r\nexport class VMe extends VPage<CMe> {\r\n\r\n    async open(param?: any) {\r\n\r\n    }\r\n\r\n    private exit() {\r\n        nav.showLogout();\r\n    }\r\n\r\n    private changePassword = async () => {\r\n        await nav.changePassword();\r\n    }\r\n\r\n    private meInfo = observer(() => {\r\n        let { user } = nav;\r\n        if (user === undefined) return null;\r\n        let { id, name, nick, icon } = user;\r\n        return <LMR className=\"py-2 cursor-pointer w-100\"\r\n            left={<Image className=\"w-3c h-3c mr-3\" src={icon} />}\r\n            right={<FA className=\"align-self-end\" name=\"angle-right\" />}\r\n            onClick={() => {\r\n                this.openVPage(EditMeInfo);\r\n            }}>\r\n            <div>\r\n                <div>{userSpan(name, nick)}</div>\r\n                <div className=\"small\"><span className=\"text-muted\">ID:</span> {id > 10000 ? id : String(id + 10000).substr(1)}</div>\r\n            </div>\r\n        </LMR>;\r\n    });\r\n\r\n    render() {\r\n        const { user } = nav;\r\n        let aboutRows: Prop[] = [\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"w-100 d-flex justify-content-between\">\r\n                    <IconText iconClass=\"text-info mr-2\" icon=\"smile-o\" text=\"关于本APP\" />\r\n                    <div className=\"py-2 small\">V{appConfig.version}</div>\r\n                </div>,\r\n            },\r\n            ''\r\n        ];\r\n\r\n        let rows: Prop[];\r\n        if (user === undefined) {\r\n            rows = aboutRows;\r\n            rows.push(\r\n                {\r\n                    type: 'component',\r\n                    component: <button className=\"btn btn-success w-100 my-2\" onClick={() => nav.showLogin(undefined, true)}>\r\n                        <FA name=\"sign-out\" size=\"lg\" /> 请登录\r\n                    </button>\r\n                },\r\n            );\r\n        }\r\n        else {\r\n            let logOutRows: Prop[] = [\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    bk: '',\r\n                    component: <button className=\"btn btn-danger w-100\" onClick={this.exit}>\r\n                        <FA name=\"sign-out\" size=\"lg\" /> 退出登录\r\n                </button>\r\n                },\r\n            ];\r\n\r\n            rows = [\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <this.meInfo />\r\n                },\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"key\" text=\"修改密码\" />,\r\n                    onClick: this.changePassword\r\n                },\r\n            ]\r\n            rows.push(...aboutRows, ...logOutRows);\r\n        }\r\n        return <Page header=\"我的\">\r\n            <PropGrid rows={[...rows]} values={{}} />;\r\n        </Page>\r\n    }\r\n}\r\n\r\n\r\nfunction userSpan(name: string, nick: string): JSX.Element {\r\n    return nick ?\r\n        <><b>{nick} &nbsp; <small className=\"muted\">{name}</small></b></>\r\n        : <b>{name}</b>\r\n}","import _ from 'lodash';\r\nimport { CUqBase } from '../CBase';\r\nimport { VMe } from './VMe';\r\n\r\nexport class CMe extends CUqBase {\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    async changeWebUser(webUser: any) {\r\n        let { currentUser } = this.cApp;\r\n        await currentUser.changeWebUser(webUser);\r\n    }\r\n\r\n    async changeWebUserContact(webUserContact: any) {\r\n        let { currentUser } = this.cApp;\r\n        await currentUser.changeWebUserContact(webUserContact);\r\n    }\r\n\r\n    tab = () => this.renderView(VMe);\r\n}","import * as React from 'react';\r\nimport { View, List, EasyDate } from 'tonva';\r\nimport { COrder } from './COrder';\r\n\r\nexport class VPendingOrderList extends View<COrder> {\r\n\r\n    private renderOrder = (order: any, index: number) => {\r\n        let { openOrderDetail } = this.controller;\r\n        let { id, no, date } = order;\r\n        return <div className=\"m-3 justify-content-between cursor-pointer\" onClick={() => openOrderDetail(id)}>\r\n            <div><span className=\"small text-muted\">订单编号: </span><strong>{no}</strong></div>\r\n            <div className=\"small text-muted\"><EasyDate date={date} /></div>\r\n        </div>;\r\n    }\r\n\r\n    render(pendingOrders?: any): JSX.Element {\r\n        return <List items={pendingOrders} item={{ render: this.renderOrder }} none='无未审核订单'></List>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId } from 'tonva';\r\nimport { COrder } from './COrder';\r\nimport { tv } from 'tonva';\r\nimport { List } from 'tonva';\r\n\r\nexport class VOrderDetail extends VPage<COrder> {\r\n\r\n    async open(order: any) {\r\n        this.openPage(this.page, order);\r\n    }\r\n\r\n    private packsRow = (item: any, index: number) => {\r\n        let { pack, quantity, price } = item;\r\n\r\n        return <div key={index} className=\"px-2 py-2 border-top\">\r\n            <div className=\"d-flex align-items-center\">\r\n                <div className=\"flex-grow-1\"><b>{tv(pack)}</b></div>\r\n                <div className=\"w-12c mr-4 text-right\">\r\n                    <span className=\"text-danger h5\"><small>¥</small>{parseFloat((price * quantity).toFixed(2))}</span>\r\n                    <small className=\"text-muted\">(¥{parseFloat(price.toFixed(2))} × {quantity})</small>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private renderOrderItem = (orderItem: any) => {\r\n        let { product, packs } = orderItem;\r\n        let { controller, packsRow } = this;\r\n        return <div>\r\n            <div className=\"row p-1 my-1\">\r\n                <div className=\"col-lg-6 pb-3\">{controller.renderOrderItemProduct(product)}</div>\r\n                <div className=\"col-lg-6\">{\r\n                    packs.map((p, index) => {\r\n                        return packsRow(p, index);\r\n                    })\r\n                }</div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private page = (order: any) => {\r\n\r\n        let { brief, data } = order;\r\n        let { no } = brief;\r\n        let { orderItems, currency, shippingContact, invoiceContact, invoiceType, invoiceInfo, amount, couponOffsetAmount, couponRemitted\r\n            , freightFee, freightFeeRemitted } = data;\r\n        let couponUI;\r\n        if (couponOffsetAmount || couponRemitted) {\r\n            let offsetUI, remittedUI;\r\n            if (couponOffsetAmount) {\r\n                offsetUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                    <div className=\"text-muted\">折扣:</div>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{couponOffsetAmount}</div>\r\n                </div>\r\n            }\r\n            if (couponRemitted) {\r\n                remittedUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                    <div className=\"text-muted\">抵扣:</div>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{couponRemitted}</div>\r\n                </div>\r\n            }\r\n            couponUI = <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">优惠码:</div>\r\n                <div className=\"col-9\">\r\n                    {offsetUI}\r\n                    {remittedUI}\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        let freightFeeUI, freightFeeRemittedUI;\r\n        if (freightFee) {\r\n            freightFeeUI = <>\r\n                <div className=\"text-right text-danger\"><small>¥</small>{freightFee}</div>\r\n            </>\r\n            if (freightFeeRemitted) {\r\n                freightFeeRemittedUI = <>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{freightFeeRemitted}(减免)</div>\r\n                </>\r\n            }\r\n        }\r\n\r\n        let header = <>订单详情: {no}</>\r\n        return <Page header={header}>\r\n            <List items={orderItems} item={{ render: this.renderOrderItem }} />\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">收货地址:</div>\r\n                <div className=\"col-9\">{tv(shippingContact)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">发票地址:</div>\r\n                <div className=\"col-9\">{tv(invoiceContact)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">发票信息:</div>\r\n                <div className=\"col-9\">{invoiceTemplate(invoiceType, invoiceInfo)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">运费:</div>\r\n                <div className=\"col-9\">{freightFeeUI}{freightFeeRemittedUI}</div>\r\n            </div>\r\n            {couponUI}\r\n            <div className=\"bg-white p-3 my-1 text-right\">\r\n                <span className=\"text-danger font-weight-bold\">总金额: {amount}{tv(currency)}</span>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n\r\nfunction invoiceTemplate(invoiceType: BoxId, invoiceInfo: BoxId): JSX.Element {\r\n    return <>\r\n        {tv(invoiceType, invoiceTypeUI, undefined, () => <></>)}<br />\r\n        {tv(invoiceInfo, invoiceInfoUI, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nfunction invoiceTypeUI(values: any) {\r\n    let { description } = values;\r\n    return <>{description}</>;\r\n}\r\n\r\nfunction invoiceInfoUI(values: any) {\r\n    let { title } = values;\r\n    return <>{title}</>;\r\n}","import { VPendingOrderList } from './VPendingOrderList';\r\nimport { VOrderDetail } from './VOrderDetail';\r\nimport { CUqBase } from 'CBase';\r\nimport { BoxId } from 'tonva';\r\n\r\nexport class COrder extends CUqBase {\r\n\r\n    async internalStart(param: any) {\r\n    }\r\n\r\n    async renderPendingOrder(webUserId: bigint) {\r\n        let pendingAuditOrders = await this.uqs.order.GetPendingAuditOrders.table({ webUser: webUserId });\r\n        return this.renderView(VPendingOrderList, pendingAuditOrders);\r\n    }\r\n\r\n    async auditPendingOrder(webUserId: bigint) {\r\n        let pendingAuditOrders = await this.uqs.order.GetPendingAuditOrders.table({ webUser: webUserId });\r\n        for (let i = 0; i < pendingAuditOrders.length; i++) {\r\n            let order = pendingAuditOrders[i];\r\n            let { id, flow, state } = order;\r\n            await this.uqs.order.Order.action(id, flow, state, \"Pass\");\r\n        }\r\n    }\r\n\r\n    /*\r\n    async cancelPendingOrder(webUserId: bigint) {\r\n        let pendingAuditOrders = await this.uqs.order.GetPendingAuditOrders.table({ webUser: webUserId });\r\n        for (let i = 0; i < pendingAuditOrders.length; i++) {\r\n            let order = pendingAuditOrders[i];\r\n            let { id, flow, state } = order;\r\n            await this.uqs.order.Order.action(id, flow, state, \"Cancel\");\r\n        }\r\n    }\r\n    */\r\n\r\n    openOrderDetail = async (orderId: number) => {\r\n\r\n        let order = await this.uqs.order.Order.getSheet(orderId);\r\n        let { data } = order;\r\n        let { orderitems } = data;\r\n        let orderItemsGrouped = orderItemGroupByProduct(orderitems);\r\n        data.orderItems = orderItemsGrouped;\r\n        this.openVPage(VOrderDetail, order);\r\n    }\r\n\r\n    renderOrderItemProduct = (product: BoxId) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderCartProduct(product);\r\n    }\r\n}\r\n\r\nexport function orderItemGroupByProduct(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let cd of packItems) {\r\n        let { product, pack, quantity, price, currency } = cd;\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        let packRow: any = {\r\n            pack: pack,\r\n            price: price,\r\n            quantity: quantity,\r\n            currency: currency && currency.id\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}","import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\r\nimport { CCustomerServiceApp } from 'CCustomerServiceApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\n\r\nexport class VMain extends VPage<CCustomerServiceApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    render = (param?: any): JSX.Element => {\r\n        let { cWebUser, cMe } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'home', label: '首页', icon: 'home', content: cWebUser.tab, notify: undefined/*store.homeCount*/ },\r\n            { name: 'me', label: '我的', icon: 'user', content: cMe.tab }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n            }\r\n        });\r\n        return <Page header={false}>\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, tv } from 'tonva';\r\nimport { CProduct, productPropItem, renderBrand } from './CProduct';\r\nimport { ProductImage } from 'tools/productImage';\r\n\r\nexport class VCartProuductView extends View<CProduct> {\r\n\r\n    render(param: any): JSX.Element {\r\n        return <>{tv(param, this.renderCartProduct)}</>;\r\n    }\r\n\r\n\r\n    private renderCartProduct = (product: any) => {\r\n        let { id, brand, description, descriptionC, origin, imageUrl } = product;\r\n\r\n        return <div className=\"row d-flex mb-3 px-2\">\r\n            <div className=\"col-12\">\r\n                <div className=\"py-2\">\r\n                    <strong>{description}</strong>\r\n                </div>\r\n                <div className=\"pb-2\">\r\n                    <strong>{descriptionC}</strong>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <ProductImage chemicalId={imageUrl} className=\"w-4c h-4c\" />\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        <div className=\"row\">\r\n                            {this.controller.renderChemicalInfo(product)}\r\n                            {productPropItem('编号', origin)}\r\n                            {tv(brand, renderBrand)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    };\r\n}\r\n\r\n\r\nexport class VProuductView extends View<CProduct> {\r\n\r\n    render(param: any): JSX.Element {\r\n        return <>{tv(param, this.renderProduct)}</>;\r\n    }\r\n\r\n    private renderProduct = (product: any) => {\r\n        let { brand, description, descriptionC, origin, imageUrl } = product;\r\n        return <div className=\"d-block mb-4 px-3\">\r\n            <div className=\"py-2\">\r\n                <div><strong>{description}</strong></div>\r\n                <div>{descriptionC}</div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    <div className=\"row\">\r\n                        {productPropItem('产品编号', origin)}\r\n                        {tv(brand, renderBrand)}\r\n                        {this.controller.renderChemicalInfo(product)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { tv, View } from 'tonva';\r\nimport { CProduct, productPropItem } from './CProduct';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport class VChemicalInfo extends View<CProduct> {\r\n\r\n    render(param: any): JSX.Element {\r\n        let { id: productId } = param;\r\n        let { controller } = this;\r\n        controller.getChemicalInfo(productId);\r\n        return <this.content productId={productId} />;\r\n    }\r\n\r\n    private content = observer((param: any) => {\r\n\r\n        let { productId } = param;\r\n        let { chemicalInfoContainer } = this.controller;\r\n        let chemicalInfo = chemicalInfoContainer[productId];\r\n        if (chemicalInfo !== undefined) {\r\n            let { chemical, purity, CAS, molecularFomula, molecularWeight } = chemicalInfo;\r\n            return <>\r\n                {productPropItem('CAS', CAS)}\r\n                {productPropItem('纯度', purity)}\r\n            </>\r\n        }\r\n        return <></>;\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport * as _ from 'lodash';\r\nimport { observable } from 'mobx';\r\nimport { Query, tv, BoxId, Map } from 'tonva';\r\nimport classNames from 'classnames';\r\nimport { CUqBase } from '../CBase';\r\nimport { ProductImage } from '../tools/productImage';\r\nimport { VCartProuductView } from './VProductView';\r\nimport { VChemicalInfo } from './VChemicalInfo';\r\n\r\n/**\r\n *\r\n */\r\nexport class CProduct extends CUqBase {\r\n    @observable chemicalInfoContainer: { [productId: number]: any } = {};\r\n\r\n    protected async internalStart(param: any) {\r\n    }\r\n\r\n    renderChemicalInfo = (product: BoxId) => {\r\n        return this.renderView(VChemicalInfo, product);\r\n    }\r\n\r\n    getChemicalInfo = async (productId: number) => {\r\n        if (this.chemicalInfoContainer[productId] === undefined) {\r\n            this.chemicalInfoContainer[productId] = await this.uqs.product.ProductChemical.obj({ product: productId });\r\n        }\r\n    }\r\n\r\n    renderCartProduct = (product: BoxId) => {\r\n        return this.renderView(VCartProuductView, product);\r\n    }\r\n}\r\n\r\nexport function renderBrand(brand: any) {\r\n    return productPropItem('品牌', brand.name);\r\n}\r\n\r\nexport function productPropItem(caption: string, value: any, captionClass?: string) {\r\n    if (value === null || value === undefined || value === '0') return null;\r\n    let capClass = captionClass ? classNames(captionClass) : classNames(\"text-muted\");\r\n    let valClass = captionClass ? classNames(captionClass) : \"\";\r\n    return <>\r\n        <div className={classNames(\"col-6 col-sm-2 pr-0 small\", capClass)}> {caption}</div>\r\n        <div className={classNames(\"col-6 col-sm-4\", valClass)}>{value}</div>\r\n    </>;\r\n}\r\n\r\nexport function renderProduct(product: any) {\r\n    let { brand, description, descriptionC, CAS, purity, molecularFomula, molecularWeight, origin, imageUrl } = product;\r\n    return <div className=\"d-block mb-4 px-3\">\r\n        <div className=\"py-2\">\r\n            <div><strong>{description}</strong></div>\r\n            <div>{descriptionC}</div>\r\n        </div>\r\n        <div className=\"row\">\r\n            <div className=\"col-3\">\r\n                <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n            </div>\r\n            <div className=\"col-9\">\r\n                <div className=\"row\">\r\n                    {productPropItem('CAS', CAS)}\r\n                    {productPropItem('产品编号', origin)}\r\n                    {productPropItem('纯度', purity)}\r\n                    {productPropItem('分子式', molecularFomula)}\r\n                    {productPropItem('分子量', molecularWeight)}\r\n                    {tv(brand, renderBrand)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}","import { User, loadAppUqs } from 'tonva';\r\nimport { Map, BoxId, CUq, Tuid } from 'tonva';\r\nimport { observable, computed } from 'mobx';\r\nimport { UQs } from './uqs';\r\n\r\nexport class WebUser {\r\n\r\n    id: number;\r\n    name: string;\r\n    nick?: string;\r\n    icon?: string;\r\n    guest: number;\r\n    token: string;\r\n\r\n    @observable firstName: string;\r\n    gender: string;\r\n    salutation: string;\r\n    @observable organizationName: string;\r\n    departmentName: string;\r\n\r\n    telephone: string;\r\n    @observable mobile: string;\r\n    email: string;\r\n    fax: string;\r\n    address: BoxId;\r\n    addressString: string;\r\n    zipCode: string;\r\n    @computed get allowOrdering() {\r\n        return this.currentCustomer !== undefined ||\r\n            (this.mobile && this.firstName && this.organizationName);\r\n    }\r\n\r\n    private _user: User;\r\n\r\n    private webUserSettings: any;\r\n\r\n    private uqs: UQs;\r\n\r\n\r\n    constructor(uqs: UQs) {// cUsqWebUser: CUq, cUsqCustomer: CUq) {\r\n        this.uqs = uqs;\r\n    }\r\n\r\n    setUser = async (user: User) => {\r\n        if (user !== undefined) {\r\n            this._user = user;\r\n            this.id = user.id;\r\n            this.name = user.name;\r\n            this.nick = user.nick;\r\n            this.icon = user.icon;\r\n            this.guest = user.guest;\r\n            this.token = user.token;\r\n\r\n            await this.loadWebUser();\r\n        }\r\n    }\r\n\r\n    private async loadWebUser() {\r\n        let { id, _user } = this;\r\n        if (this._user !== undefined) {\r\n            let webUser = await this.uqs.webuser.WebUser.load(this.id);\r\n            if (webUser) {\r\n                let { firstName, gender, salutation, organizationName, departmentName } = webUser;\r\n                this.firstName = firstName;\r\n                this.gender = gender;\r\n                this.salutation = salutation;\r\n                this.organizationName = organizationName;\r\n                this.departmentName = departmentName;\r\n            }\r\n            let contact = await this.uqs.webuser.WebUserContact.obj({ webUser: this.id });\r\n            if (contact) {\r\n                let { telephone, mobile, email, fax, address, addressString, zipCode } = contact;\r\n                this.telephone = telephone;\r\n                this.mobile = mobile;\r\n                this.email = email;\r\n                this.fax = fax;\r\n                this.address = address;\r\n                this.addressString = addressString;\r\n                this.zipCode = zipCode;\r\n            }\r\n            this.webUserSettings = await this.uqs.webuser.WebUserSetting.obj({ webUser: this.id }) || { webUser: this.id };\r\n            let value = await this.uqs.webuser.WebUserCustomer.obj({ webUser: this.id });\r\n            if (value != undefined) {\r\n                this.currentCustomer = new Customer(value.customer, this.uqs);\r\n                await this.currentCustomer.init();\r\n            }\r\n        }\r\n    }\r\n\r\n    get isLogined(): boolean {\r\n        return this._user !== undefined;\r\n    }\r\n    get hasCustomer(): boolean {\r\n        return this.currentCustomer !== undefined;\r\n    }\r\n    currentCustomer: Customer;\r\n\r\n    async getContacts(): Promise<any[]> {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            return await this.currentCustomer.getContacts()\r\n        }\r\n        */\r\n        return await this.uqs.webuser.WebUserContacts.table({ webUser: this.id });\r\n    }\r\n\r\n    async addContact(contactId: number) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.addContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        await this.uqs.webuser.WebUserContacts.add({ webUser: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async delContact(contactId: number) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.delContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        await this.uqs.webuser.WebUserContacts.del({ webUser: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async getSetting() {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            return this.currentCustomer.getSetting();\r\n        }\r\n        */\r\n        return this.webUserSettings;\r\n    }\r\n\r\n    async setDefaultShippingContact(contactId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultShippingContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        this.webUserSettings.shippingContact = contactId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoiceContact(contactId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultInvoiceContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        this.webUserSettings.invoiceContact = contactId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoice(invoiceTypeId: BoxId, invoiceInfoId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultInvoice(invoiceTypeId, invoiceInfoId);\r\n            return;\r\n        }\r\n        */\r\n        // await this.webUserSettingMap.add({ webUser: this.id, arr1: [{ invoiceType: invoiceTypeId, invoiceInfo: invoiceInfoId }] });\r\n        this.webUserSettings.invoiceType = invoiceTypeId;\r\n        this.webUserSettings.invoiceInfo = invoiceInfoId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async saveDefaultSettings() {\r\n        await this.uqs.webuser.WebUserSetting.add(this.webUserSettings);\r\n    }\r\n\r\n\r\n    async changeWebUser(webUser: any) {\r\n        await this.uqs.webuser.WebUser.save(this.id, webUser);\r\n        await this.loadWebUser();\r\n    }\r\n\r\n    async changeWebUserContact(webUserContact: any) {\r\n        webUserContact.webUser = this.id;\r\n        await this.uqs.webuser.WebUserContact.add(webUserContact);\r\n        await this.loadWebUser();\r\n    }\r\n};\r\n\r\nexport class Customer {\r\n    private readonly uqs: UQs;\r\n    //private contactMap: Map;\r\n    id: number;\r\n\r\n    //private customerSettingMap: Map;\r\n\r\n    private customerSettings: any;\r\n\r\n    constructor(customer: BoxId, uqs: UQs) {\r\n        this.id = customer.id;\r\n        this.uqs = uqs;\r\n        /*\r\n        this.contactMap = cUsqCustomer.map('customerContacts');\r\n        this.customerSettingMap = cUsqCustomer.map('customerSetting');\r\n        */\r\n    };\r\n\r\n    async getContacts(): Promise<any[]> {\r\n        return await this.uqs.customer.CustomerContacts.table({ customer: this.id });\r\n    }\r\n\r\n    async addContact(contactId: number) {\r\n        await this.uqs.customer.CustomerContacts.add({ customer: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async delContact(contactId: number) {\r\n        await this.uqs.customer.CustomerContacts.del({ customer: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async init() {\r\n        this.customerSettings = await this.uqs.customer.CustomerSetting.obj({ customer: this.id }) || { customer: this.id };\r\n    }\r\n\r\n    getSetting() {\r\n        return this.customerSettings;\r\n    }\r\n\r\n    async setDefaultShippingContact(contactId: BoxId) {\r\n        this.customerSettings.shippingContact = contactId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoiceContact(contactId: BoxId) {\r\n        this.customerSettings.invoiceContact = contactId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoice(invoiceTypeId: BoxId, invoiceInfoId: BoxId) {\r\n        this.customerSettings.invoiceType = invoiceTypeId;\r\n        this.customerSettings.invoiceInfo = invoiceInfoId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultSettings() {\r\n        await this.uqs.customer.CustomerSetting.add(this.customerSettings);\r\n    }\r\n}","import { nav, CAppBase, IConstructor } from 'tonva';\r\nimport { CWebUser } from 'webUser/CWebUser';\r\nimport { CMe } from 'me/CMe';\r\nimport { COrder } from 'order/COrder';\r\nimport { UQs } from 'uqs';\r\nimport { VMain } from 'VMain';\r\nimport { CUqBase } from 'CBase';\r\nimport { CProduct } from 'product/CProduct';\r\nimport { WebUser } from 'currentUser';\r\nimport GLOABLE from 'configuration';\r\n\r\nexport class CCustomerServiceApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs as UQs; }\r\n\r\n    topKey: any;\r\n\r\n    currentSalesRegion: any;\r\n    currentLanguage: any;\r\n    currentUser: WebUser;\r\n\r\n    cWebUser: CWebUser;\r\n    cProduct: CProduct;\r\n    cMe: CMe;\r\n    cOrder: COrder;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n\r\n        this.currentSalesRegion = await this.uqs.common.SalesRegion.load(GLOABLE.SALESREGION_CN);\r\n        this.currentLanguage = await this.uqs.common.Language.load(GLOABLE.CHINESE);\r\n        this.currentUser = new WebUser(this.uqs);\r\n        this.currentUser.setUser(this.user);\r\n\r\n        this.cWebUser = this.newC(CWebUser);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cMe = this.newC(CMe);\r\n        this.cOrder = this.newC(COrder);\r\n\r\n        this.topKey = nav.topKey();\r\n        this.showMain();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { NavView, AppConfig, start, nav } from 'tonva';\r\nimport { CCustomerServiceApp } from 'CCustomerServiceApp';\r\nimport { tvs } from 'tvs';\r\n\r\nconst appConfig: AppConfig = {\r\n  appName: \"百灵威系统工程部/customer-service\",\r\n  version: \"1.0.3\",                   // 版本变化，缓存的uqs才会重载\r\n  tvs: tvs,\r\n};\r\n\r\nnav.setSettings(appConfig);\r\n\r\nconst App: React.FC = () => {\r\n\r\n  let onLogined = async () => {\r\n    await start(CCustomerServiceApp, appConfig);\r\n  }\r\n\r\n  return <NavView onLogined={onLogined} />;\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport default function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
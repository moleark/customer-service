(window["webpackJsonpjk-customer-service"]=window["webpackJsonpjk-customer-service"]||[]).push([[0],{47:function(e,t,n){e.exports=n(67)},52:function(e,t,n){},55:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(36),i=n.n(c),s=(n(52),n(53),n(1)),u=n.n(s),o=n(13),l=(n(55),n(10)),m=n(2),d=n(3),p=n(5),f=n(4),h=n(6),b=n(23),v=n(9),g=n(22),w=(n(31),n(12)),y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderPendingUser=function(e){var t=e.webUser,n=r.createElement(l.f,{name:"chevron-right",className:"chevron-right align-self-center"});return r.createElement(l.j,{right:n,className:"p-3"},Object(l.u)(t))},n.showUserDetail=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.openPendingAuditUserDetail(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.content=Object(w.a)((function(){var e=n.controller.pendingUsers;return r.createElement(l.m,{header:"\u5f85\u5ba1\u6838\u5ba2\u6237"},r.createElement(l.k,{items:e,none:"\u6682\u65e0\u5f85\u5ba1\u6838\u5ba2\u6237",item:{render:n.renderPendingUser,onClick:n.showUserDetail}}))})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return this.controller.getPendingUsers(),r.createElement(this.content,null)}}]),t}(l.q),O=n(8),j=function(e){var t=e.country,n=e.province,a=e.city,c=e.county;return r.createElement(r.Fragment,null,Object(l.u)(t),Object(l.u)(n,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})),Object(l.u)(a,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})),Object(l.u)(c,void 0,void 0,(function(){return r.createElement(r.Fragment,null)})))},x=function(e){return r.createElement(r.Fragment,null," ",e.chineseName," ")},E="http://www.jkchemical.com/static/Structure/",k="http://www.jkchemical.com/static/Structure/999.png";function N(e){var t=e.style,n=e.className,a=e.chemicalId;return r.createElement(l.i,{src:a&&E+a.substr(0,3)+"/"+a+".png",style:t,className:n,altImage:k})}function C(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 text-muted pr-0"},e,":"),r.createElement("div",{className:"col-8"},t))}var U,S,I,P,q,A,D,F,W,z,R={webuser:{webuser:function(e){var t=e.firstName,n=e.salutation,a=e.organizationName,c=e.departmentName;return r.createElement(r.Fragment,null,r.createElement("div",{className:"mr-3"},r.createElement("strong",null,t)," ",r.createElement("span",{className:"small"},n)),r.createElement("div",{className:"small text-muted"},a," \xa0",c))}},common:{address:j,country:x,province:x,city:x,county:x,currency:function(e){return r.createElement(r.Fragment,null," ",e.name," ")}},customer:{contact:function(e){var t=e.name,n=e.mobile,a=e.organizationName,c=e.address,i=e.addressString;return r.createElement("div",{className:"flex-grow-1"},r.createElement("b",null,t),"\xa0 ",n," \xa0 ",a,r.createElement("br",null),r.createElement("small",null,Object(l.u)(c)," ",i))},address:j,country:x,province:x,city:x,county:x,invoiceInfo:function(e){var t=e.title,n=e.taxNo;return r.createElement("div",{className:"flex-grow-1"},r.createElement("b",null,t),"\xa0 ",n)},invoiceType:function(e){var t=e.description;return r.createElement("div",{className:"flex-grow-1"},t)}},product:{productx:function(e){var t=e,n=t.brand,a=t.description,c=t.CAS,i=t.purity,s=t.molecularFomula,u=t.molecularWeight,o=t.origin,m=t.imageUrl;return r.createElement("div",{className:"row d-flex"},r.createElement("div",{className:"col-12"},r.createElement("div",{className:"row py-2"},r.createElement("div",{className:"col-12"},r.createElement("strong",null,a))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(N,{chemicalId:m,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},C("CAS",c),C("\u7eaf\u5ea6",i),C("\u5206\u5b50\u5f0f",s),C("\u5206\u5b50\u91cf",u),C("\u4ea7\u54c1\u7f16\u53f7",o),Object(l.u)(n,(function(e){return r.createElement(r.Fragment,null,C("\u54c1\u724c",e.name))})))))))},packx:function(e){var t=e.radiox,n=e.radioy,a=e.unit;return 1!==t?r.createElement(r.Fragment,null,t," * ",n,a):r.createElement(r.Fragment,null,n,a)}}},L="1.0.6",B={CHINA:43,CHINESE:197,SALESREGION_CN:4,TIPDISPLAYTIME:3e3},T=[{name:"id",type:"id",required:!1},{name:"customer",type:"string",required:!0},{name:"teacher",type:"string",required:!1},{name:"submit",type:"submit"}],V={items:{id:{visible:!1},customer:{widget:"text",label:"\u5ba2\u6237CID",placeholder:"\u5ba2\u6237CID",rules:function(e){return e&&e.length>30?"CID\u8fc7\u957f\uff0c\u8bf7\u68c0\u67e5\u540e\u8f93\u5165\u3002":void 0}},teacher:{widget:"text",label:"\u8001\u5e08CID",placeholder:"\u8001\u5e08CID",rules:function(e){return e&&e.length>30?"CID\u8fc7\u957f\uff0c\u8bf7\u68c0\u67e5\u540e\u8f93\u5165\u3002":void 0}},submit:{widget:"button",label:"\u5ba1\u6838\u901a\u8fc7",visible:!1,className:"btn btn-primary"}}},_=(U=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.data={},n.pendingOrderList=void 0,Object(b.a)(n,"tips",S,Object(v.a)(n)),n.auditPendingUser=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}}),e)}))),n.onFormButtonClick=function(){var e=Object(o.a)(u.a.mark((function e(t,a){var c,i,s,o,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.form.data,i=c.customer,s=c.teacher,n.data.customer=i,n.data.teacher=s,e.next=6,n.controller.auditPendingUser(c);case 6:o=e.sent,e.t0=o,e.next=1===e.t0?10:2===e.t0?12:4===e.t0?14:16;break;case 10:return n.tips=r.createElement("div",{className:"alert alert-danger",role:"alert"},r.createElement(l.f,{name:"exclamation-circle",className:"exclamation-circle mr-2"}),"\u5ba1\u6838\u5931\u8d25\uff0c\u5fc5\u987b\u586b\u5199\u5ba2\u6237CID!"),e.abrupt("break",21);case 12:return n.tips=r.createElement("div",{className:"alert alert-danger",role:"alert"},r.createElement(l.f,{name:"exclamation-circle",className:"exclamation-circle mr-2"}),"\u5ba1\u6838\u5931\u8d25\uff0c\u4f60\u586b\u5199\u7684\u5ba2\u6237CID\u4e0d\u5b58\u5728!"),e.abrupt("break",21);case 14:return n.tips=r.createElement("div",{className:"alert alert-danger",role:"alert"},r.createElement(l.f,{name:"exclamation-circle",className:"exclamation-circle mr-2"}),"\u5ba1\u6838\u5931\u8d25\uff0c\u4f60\u586b\u5199\u7684\u8001\u5e08CID\u4e0d\u5b58\u5728!"),e.abrupt("break",21);case 16:return m=3,n.tips=r.createElement("div",{className:"alert alert-success",role:"alert"},r.createElement(l.f,{name:"check-circle",className:"check-circle mr-2"}),"\u5ba1\u6838\u6210\u529f",m),d=setInterval((function(){m--,n.tips=r.createElement("div",{className:"alert alert-success",role:"alert"},r.createElement(l.f,{name:"check-circle",className:"check-circle mr-2"}),"\u5ba1\u6838\u6210\u529f",m)}),1e3),setTimeout((function(){clearInterval(d),n.backPage()}),3e3),e.abrupt("break",21);case 21:setTimeout((function(){n.tips=void 0}),B.TIPDISPLAYTIME);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.page=Object(w.a)((function(){var e=n.controller,t=e.currentAuditingUser,a=e.webUserContact,c=e.openAuditRefuse,i=t.id,s=t.firstName,u=t.salutation,o=t.organizationName,m=t.departmentName,d=r.createElement("div",{className:"col-12 text-danger"},"\u8be5\u7528\u6237\u672a\u586b\u5199\u624b\u673a\u53f7\u3001\u7535\u8bdd\u6216Email\u4fe1\u606f");if(a){var p=a.telephone,f=a.mobile,h=a.email;d=r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 text-muted"},"\u624b\u673a:"),r.createElement("div",{className:"col-8"},r.createElement("a",{href:"tel:".concat(f)},f)),r.createElement("div",{className:"col-4 text-muted"},"\u7535\u8bdd:"),r.createElement("div",{className:"col-8"},r.createElement("a",{href:"tel:".concat(p)},p)),r.createElement("div",{className:"col-4 text-muted"},"Email:"),r.createElement("div",{className:"col-8"},r.createElement("a",{href:"mailto:".concat(h)},h)))}n.data.id=i;var b=r.createElement(l.j,{right:r.createElement("button",{type:"button",className:"btn btn-primary m-1",onClick:n.auditPendingUser},"\u901a\u8fc7"),left:r.createElement("button",{type:"button",className:"btn btn-outline-primary m-1",onClick:c},"\u4e0d\u901a\u8fc7")});return r.createElement(l.m,{header:"\u5f85\u5ba1\u6838\u5ba2\u6237\u8be6\u60c5",footer:b},r.createElement("div",{className:"bg-white p-3 mt-1"},r.createElement("strong",{className:"large"},s)," ",r.createElement("span",{className:"small text-muted"},u)),r.createElement("div",{className:"row bg-white pb-3 pl-4 pr-3"},d,r.createElement("div",{className:"col-4 text-muted"},"\u5355\u4f4d:"),r.createElement("div",{className:"col-8"},o),r.createElement("div",{className:"col-4 text-muted"},"\u90e8\u95e8:"),r.createElement("div",{className:"col-8"},m)),r.createElement("div",{className:"card my-2 p-2"},r.createElement("h5",{className:"card-title"},"\u5ba1\u6838"),n.tips,r.createElement(l.g,{ref:function(e){return n.form=e},schema:T,uiSchema:V,formData:n.data,className:"bg-white px-3",onButtonClick:n.onFormButtonClick})),r.createElement("div",{className:"card my-2 p-2"},r.createElement("h5",{className:"card-title"},"\u672a\u5ba1\u6838\u8ba2\u5355\u5217\u8868"),n.pendingOrderList))})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.controller.currentAuditingUser,e.next=3,this.controller.renderPendingOrders(n.id);case 3:this.pendingOrderList=e.sent,this.openPage(this.page,t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(l.q),S=Object(g.a)(U.prototype,"tips",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),M=n(24),H=[{name:"id",type:"id",required:!1},{name:"reason",type:"id",required:!0},{name:"comments",type:"string",required:!1},{name:"submit",type:"submit"}],K=(I=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c))),Object(b.a)(n,"tips",P,Object(v.a)(n)),n.onFormButtonClick=function(){var e=Object(o.a)(u.a.mark((function e(t,a){var c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.form.data,n.controller.auditPendingUserRefuse(c),i=3,n.tips=r.createElement("div",{className:"alert alert-success",role:"alert"},r.createElement(l.f,{name:"check-circle",className:"check-circle mr-2"}),"\u64cd\u4f5c\u6210\u529f",i),s=setInterval((function(){i--,n.tips=r.createElement("div",{className:"alert alert-success",role:"alert"},r.createElement(l.f,{name:"check-circle",className:"check-circle mr-2"}),"\u64cd\u4f5c\u6210\u529f",i)}),1e3),setTimeout((function(){clearInterval(s),n.closePage(2)}),3e3);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.uiSchema={items:{id:{visible:!1},reason:{widget:"radio",label:"\u62d2\u7edd\u539f\u56e0",list:[]},comments:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u5907\u6ce8",rules:function(e){return e&&e.length>100?"\u5907\u6ce8\u6700\u591a\u53ef\u4ee5\u8f93\u5165100\u4e2a\u5b57\u3002":void 0}},submit:{widget:"button",label:"\u5ba1\u6838\u4e0d\u901a\u8fc7",visible:!0,className:"btn btn-primary w-100"}}},n.page=Object(M.c)((function(){return r.createElement(l.m,{header:"\u5ba1\u6838\u4e0d\u901a\u8fc7"},r.createElement(l.g,{schema:H,className:"px-3 pb-3",uiSchema:n.uiSchema,onButtonClick:n.onFormButtonClick}),n.tips)})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.uiSchema.items.reason.list=t.map((function(e){return{value:e.id,title:e.description}})),this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(l.q),P=Object(g.a)(I.prototype,"tips",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I),G=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"uqs",get:function(){return this._uqs}}]),t}(l.b),J=(l.c,q=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))),Object(b.a)(n,"pendingUsers",A,Object(v.a)(n)),n.currentAuditingUser=void 0,n.webUserContact=void 0,n.tab=function(){return n.renderView(y)},n.openAuditRefuse=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.webuser.AuditPendingUserRefuseReason.search(void 0,0,100);case 2:t=e.sent,n.openVPage(K,t);case 4:case"end":return e.stop()}}),e)}))),n.renderPendingOrders=function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.cApp.cOrder,e.next=3,r.renderPendingOrder(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPendingUsers",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.getPendingAuditUser.table(void 0);case 2:this.pendingUsers=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPendingAuditUserDetail",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.webUser,r=n.id,e.next=4,this.uqs.webuser.WebUser.load(r);case 4:return this.currentAuditingUser=e.sent,e.next=7,this.uqs.webuser.WebUserContact.obj({webUser:r});case 7:this.webUserContact=e.sent,this.openVPage(_);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"auditPendingUser",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,a,c,i,s,o,l,m,d,p,f,h,b,v,g,w,y,O,j,x,E,k,N,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.uqs,r=n.customer,a=n.webuser,c=r.getCustomerByNo,i=r.getBuyerAccountByNo,s=r.getCustomerOrganization,o=r.BuyerAccount,l=t.id,m=t.customer,d=t.teacher,m){e.next=5;break}return e.abrupt("return",1);case 5:return e.next=7,c.obj({customerNo:m.trim()});case 7:if(p=e.sent){e.next=10;break}return e.abrupt("return",2);case 10:if(f=p.customer,h=f,!d){e.next=31;break}return e.next=15,c.obj({customerNo:d.trim()});case 15:if(b=e.sent){e.next=18;break}return e.abrupt("return",4);case 18:return e.next=20,i.obj({buyerAccountNo:d});case 20:if(v=e.sent){e.next=31;break}return g=b.customer,w=g.id,y=g.name,g.firstName,g.lastName,O=g.xyz,j=g.createTime,e.next=26,s.obj({customerId:w});case 26:return x=e.sent,e.next=29,o.save(void 0,{organization:x&&x.organization,description:y,xyz:O,no:d,createTime:j,isValid:1});case 29:v=e.sent,h=v;case 31:return E=a.WebUserBuyerAccount,k=a.auditPendingUser,N=a.getPendingAuditUser,e.next=34,E.add({webUser:l,arr1:[{buyerAccount:h}]});case 34:return e.next=36,k.submit({id:l,customerId:f});case 36:return C=this.cApp.cOrder,e.next=39,C.auditPendingOrder(l,h);case 39:return e.next=41,N.table(void 0);case 41:this.pendingUsers=e.sent;case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"auditPendingUserRefuse",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reason,r=t.comments,a=this.currentAuditingUser.id,e.next=4,this.uqs.webuser.auditPendingUserRefuse.submit({id:a,reason:n,comments:r});case 4:return e.next=6,this.uqs.webuser.getPendingAuditUser.table(void 0);case 6:this.pendingUsers=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(G),A=Object(g.a)(q.prototype,"pendingUsers",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q),Y=n(19);var $=(D=function(e){function t(e){var n;Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).schema=[{name:"nick",type:"string"},{name:"icon",type:"image"}],n.uiSchema={items:{nick:{widget:"text",label:"\u522b\u540d",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"},icon:{widget:"image",label:"\u5934\u50cf"}}},Object(b.a)(n,"data",F,Object(v.a)(n)),Object(b.a)(n,"webUserData",W,Object(v.a)(n)),Object(b.a)(n,"webUserContactData",z,Object(v.a)(n)),n.onItemChanged=function(){var e=Object(o.a)(u.a.mark((function e(t,r,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,e.next=3,l.v.userSetProp(c,r);case 3:n.data[c]=r,l.s.user[c]=r,l.s.saveLocalUser();case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.onWebUserChanged=function(){var e=Object(o.a)(u.a.mark((function e(t,r,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.webUserData[c]=r,e.next=4,n.controller.changeWebUser(n.webUserData);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.onWebUserContactChanged=function(){var e=Object(o.a)(u.a.mark((function e(t,r,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.webUserContactData[c]=r,e.next=4,n.controller.changeWebUserContact(n.webUserContactData);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.page=function(){var e=Object(v.a)(n),t=e.schema,a=e.uiSchema,c=e.data,i=e.onItemChanged;return r.createElement(l.m,{header:"\u4e2a\u4eba\u4fe1\u606f"},r.createElement(l.e,{schema:t,uiSchema:a,data:c,onItemChanged:i}))};var a=l.s.user,c=a.nick,i=a.icon;n.data={nick:c,icon:i};var s=n.controller.cApp.currentUser,d=s.firstName,h=s.gender,g=s.salutation,w=s.organizationName,y=s.departmentName,O=s.telephone,j=s.mobile,x=s.email,E=s.fax,k=s.zipCode,N=s.address,C=s.addressString;return n.webUserData={firstName:d,gender:h,salutation:g,organizationName:w,departmentName:y},n.webUserContactData={telephone:O,mobile:j,email:x,fax:E,address:N,addressString:C,zipCode:k},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(l.q),F=Object(g.a)(D.prototype,"data",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Object(g.a)(D.prototype,"webUserData",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(g.a)(D.prototype,"webUserContactData",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D);var Q=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).changePassword=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.s.changePassword();case 2:case"end":return e.stop()}}),e)}))),n.meInfo=Object(w.a)((function(){var e=l.s.user;if(void 0===e)return null;var t=e.id,a=e.name,c=e.nick,i=e.icon;return r.createElement(l.j,{className:"py-2 cursor-pointer w-100",left:r.createElement(l.i,{className:"w-3c h-3c mr-3",src:i}),right:r.createElement(l.f,{className:"align-self-end",name:"angle-right"}),onClick:function(){n.openVPage($)}},r.createElement("div",null,r.createElement("div",null,function(e,t){return t?r.createElement(r.Fragment,null,r.createElement("b",null,t," \xa0 ",r.createElement("small",{className:"muted"},e))):r.createElement("b",null,e)}(a,c)),r.createElement("div",{className:"small"},r.createElement("span",{className:"text-muted"},"ID:")," ",t>1e4?t:String(t+1e4).substr(1))))})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"exit",value:function(){l.s.showLogout()}},{key:"render",value:function(){var e,t=l.s.user,n=["",{type:"component",component:r.createElement("div",{className:"w-100 d-flex justify-content-between"},r.createElement(l.h,{iconClass:"text-info mr-2",icon:"smile-o",text:"\u5173\u4e8e\u672cAPP"}),r.createElement("div",{className:"py-2 small"},"V",L))},""];if(void 0===t)(e=n).push({type:"component",component:r.createElement("button",{className:"btn btn-success w-100 my-2",onClick:function(){return l.s.showLogin(void 0,!0)}},r.createElement(l.f,{name:"sign-out",size:"lg"})," \u8bf7\u767b\u5f55")});else{var a,c=["",{type:"component",bk:"",component:r.createElement("button",{className:"btn btn-danger w-100",onClick:this.exit},r.createElement(l.f,{name:"sign-out",size:"lg"})," \u9000\u51fa\u767b\u5f55")}];(a=e=["",{type:"component",component:r.createElement(this.meInfo,null)},"",{type:"component",component:r.createElement(l.h,{iconClass:"text-info mr-2",icon:"key",text:"\u4fee\u6539\u5bc6\u7801"}),onClick:this.changePassword}]).push.apply(a,n.concat(c))}return r.createElement(l.m,{header:"\u6211\u7684"},r.createElement(l.n,{rows:Object(Y.a)(e),values:{}}),";")}}]),t}(l.q);var X=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).tab=function(){return n.renderView(Q)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeWebUser",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.currentUser,e.next=3,n.changeWebUser(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeWebUserContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.cApp.currentUser,e.next=3,n.changeWebUserContact(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(G),Z=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderOrder=function(e,t){var a=n.controller.openOrderDetail,c=e.id,i=e.no,s=e.date;return r.createElement("div",{className:"m-3 justify-content-between cursor-pointer",onClick:function(){return a(c)}},r.createElement("div",null,r.createElement("span",{className:"small text-muted"},"\u8ba2\u5355\u7f16\u53f7: "),r.createElement("strong",null,i)),r.createElement("div",{className:"small text-muted"},r.createElement(l.d,{date:s})))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return r.createElement(l.k,{items:e,item:{render:this.renderOrder},none:"\u65e0\u672a\u5ba1\u6838\u8ba2\u5355"})}}]),t}(l.r),ee=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).packsRow=function(e,t){var n=e.pack,a=e.quantity,c=e.price;return r.createElement("div",{key:t,className:"px-2 py-2 border-top"},r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",{className:"flex-grow-1"},r.createElement("b",null,Object(l.u)(n))),r.createElement("div",{className:"w-12c mr-4 text-right"},r.createElement("span",{className:"text-danger h5"},r.createElement("small",null,"\xa5"),parseFloat((c*a).toFixed(2))),r.createElement("small",{className:"text-muted"},"(\xa5",parseFloat(c.toFixed(2))," \xd7 ",a,")"))))},n.renderOrderItem=function(e){var t=e.product,a=e.packs,c=Object(v.a)(n),i=c.controller,s=c.packsRow;return r.createElement("div",null,r.createElement("div",{className:"row p-1 my-1"},r.createElement("div",{className:"col-lg-6 pb-3"},i.renderOrderItemProduct(t)),r.createElement("div",{className:"col-lg-6"},a.map((function(e,t){return s(e,t)})))))},n.page=function(e){var t,a,c,i,s,u=e.brief,o=e.data,m=u.no,d=o.orderItems,p=o.currency,f=o.shippingContact,h=o.invoiceContact,b=o.invoiceType,v=o.invoiceInfo,g=o.amount,w=o.couponOffsetAmount,y=o.couponRemitted,O=o.freightFee,j=o.freightFeeRemitted;(w||y)&&(w&&(a=r.createElement("div",{className:"d-flex flex-row justify-content-between"},r.createElement("div",{className:"text-muted"},"\u6298\u6263:"),r.createElement("div",{className:"text-right text-danger"},r.createElement("small",null,"\xa5"),w))),y&&(c=r.createElement("div",{className:"d-flex flex-row justify-content-between"},r.createElement("div",{className:"text-muted"},"\u62b5\u6263:"),r.createElement("div",{className:"text-right text-danger"},r.createElement("small",null,"\xa5"),y))),t=r.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},r.createElement("div",{className:"col-3 text-muted"},"\u4f18\u60e0\u5238:"),r.createElement("div",{className:"col-9"},a,c)));O&&(i=r.createElement(r.Fragment,null,r.createElement("div",{className:"text-right text-danger"},r.createElement("small",null,"\xa5"),O)),j&&(s=r.createElement(r.Fragment,null,r.createElement("div",{className:"text-right text-danger"},r.createElement("small",null,"\xa5"),j,"(\u51cf\u514d)"))));var x=r.createElement(r.Fragment,null,"\u8ba2\u5355\u8be6\u60c5: ",m);return r.createElement(l.m,{header:x},r.createElement(l.k,{items:d,item:{render:n.renderOrderItem}}),r.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},r.createElement("div",{className:"col-3 text-muted"},"\u6536\u8d27\u5730\u5740:"),r.createElement("div",{className:"col-9"},Object(l.u)(f))),r.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},r.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u5730\u5740:"),r.createElement("div",{className:"col-9"},Object(l.u)(h))),r.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},r.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u4fe1\u606f:"),r.createElement("div",{className:"col-9"},function(e,t){return r.createElement(r.Fragment,null,Object(l.u)(e,te,void 0,(function(){return r.createElement(r.Fragment,null)})),r.createElement("br",null),Object(l.u)(t,ne,void 0,(function(){return r.createElement(r.Fragment,null)})))}(b,v))),r.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},r.createElement("div",{className:"col-3 text-muted"},"\u8fd0\u8d39:"),r.createElement("div",{className:"col-9"},i,s)),t,r.createElement("div",{className:"bg-white p-3 my-1 text-right"},r.createElement("span",{className:"text-danger font-weight-bold"},"\u603b\u91d1\u989d: ",g,Object(l.u)(p))))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(l.q);function te(e){var t=e.description;return r.createElement(r.Fragment,null,t)}function ne(e){var t=e.title;return r.createElement(r.Fragment,null,t)}var re=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).openOrderDetail=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.uqs.order.Order.getSheet(t);case 2:r=e.sent,a=r.data,c=a.orderitems,i=ae(c),a.orderItems=i,n.openVPage(ee,r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderOrderItemProduct=function(e){return n.cApp.cProduct.renderCartProduct(e)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderPendingOrder",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.order.Order.userSheets("matching",t,0,100);case 2:return n=e.sent,e.abrupt("return",this.renderView(Z,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"auditPendingOrder",value:function(){var e=Object(o.a)(u.a.mark((function e(t,n){var r,a,c,i,s,o,l,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.uqs.order,a=r.Order,c=r.OrderBuyerAccount,e.next=3,a.userSheets("matching",t,0,100);case 3:i=e.sent,s=0;case 5:if(!(s<i.length)){e.next=15;break}return o=i[s],l=o.id,m=o.flow,e.next=10,c.add({order:o,arr1:[{buyerAccount:n}]});case 10:return e.next=12,a.action(l,m,"matching","Pass");case 12:s++,e.next=5;break;case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(G);function ae(e){var t=[],n=!0,r=!1,a=void 0;try{for(var c,i=function(){var e=c.value,n=e.product,r=e.pack,a=e.quantity,i=e.price,s=e.currency,u=t.find((function(e){return e.product.id===n.id}));void 0===u&&(u={product:n,packs:[]},t.push(u));var o={pack:r,price:i,quantity:a,currency:s&&s.id};u.packs.push(o)},s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0)i()}catch(u){r=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return t}var ce,ie,se,ue,oe,le,me=function(e){return!0===e?"text-primary":"text-muted"},de=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(e){var t=n.controller,a=t.cWebUser,c=t.cMe,i=[{name:"home",label:"\u9996\u9875",icon:"home",content:a.tab,notify:void 0},{name:"me",label:"\u6211\u7684",icon:"user",content:c.tab}].map((function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(l.o)(n,r,me(e))},content:e.content,notify:e.notify}}));return r.createElement(l.m,{header:!1},r.createElement(l.p,{tabs:i}))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"open",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(l.q),pe=n(11),fe=n.n(pe),he=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderCartProduct=function(e){var t=e.brand,a=e.description,c=e.descriptionC,i=e.origin,s=e.imageUrl;return r.createElement("div",{className:"row d-flex mb-3 px-2"},r.createElement("div",{className:"col-12"},r.createElement("div",{className:"py-2"},r.createElement("strong",null,a)),r.createElement("div",{className:"pb-2"},r.createElement("strong",null,c)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(N,{chemicalId:s,className:"w-4c h-4c"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},n.controller.renderChemicalInfo(e),we("\u7f16\u53f7",i),Object(l.u)(t,ge))))))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){return r.createElement(r.Fragment,null,Object(l.u)(e,this.renderCartProduct))}}]),t}(l.r),be=(l.r,function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).content=Object(w.a)((function(e){var t=e.productId,a=n.controller.chemicalInfoContainer[t];if(void 0!==a){var c=a.purity,i=a.CAS;return r.createElement(r.Fragment,null,we("CAS",i),we("\u7eaf\u5ea6",c))}return r.createElement(r.Fragment,null)})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){var t=e.id;return this.controller.getChemicalInfo(t),r.createElement(this.content,{productId:t})}}]),t}(l.r)),ve=(ce=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))),Object(b.a)(n,"chemicalInfoContainer",ie,Object(v.a)(n)),n.renderChemicalInfo=function(e){return n.renderView(be,e)},n.getChemicalInfo=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.chemicalInfoContainer[t]){e.next=4;break}return e.next=3,n.uqs.product.ProductChemical.obj({product:t});case 3:n.chemicalInfoContainer[t]=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderCartProduct=function(e){return n.renderView(he,e)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"internalStart",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(G),ie=Object(g.a)(ce.prototype,"chemicalInfoContainer",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ce);function ge(e){return we("\u54c1\u724c",e.name)}function we(e,t,n){if(null===t||void 0===t||"0"===t)return null;var a=n?fe()(n):fe()("text-muted"),c=n?fe()(n):"";return r.createElement(r.Fragment,null,r.createElement("div",{className:fe()("col-6 col-sm-2 pr-0 small",a)}," ",e),r.createElement("div",{className:fe()("col-6 col-sm-4",c)},t))}var ye=(se=function(){function e(t){var n=this;Object(m.a)(this,e),this.id=void 0,this.name=void 0,this.nick=void 0,this.icon=void 0,this.guest=void 0,this.token=void 0,Object(b.a)(this,"firstName",ue,this),this.gender=void 0,this.salutation=void 0,Object(b.a)(this,"organizationName",oe,this),this.departmentName=void 0,this.telephone=void 0,Object(b.a)(this,"mobile",le,this),this.email=void 0,this.fax=void 0,this.address=void 0,this.addressString=void 0,this.zipCode=void 0,this._user=void 0,this.webUserSettings=void 0,this.uqs=void 0,this.setUser=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=10;break}return n._user=t,n.id=t.id,n.name=t.name,n.nick=t.nick,n.icon=t.icon,n.guest=t.guest,n.token=t.token,e.next=10,n.loadWebUser();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.currentCustomer=void 0,this.uqs=t}return Object(d.a)(e,[{key:"allowOrdering",get:function(){return void 0!==this.currentCustomer||this.mobile&&this.firstName&&this.organizationName}}]),Object(d.a)(e,[{key:"loadWebUser",value:function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,r,a,c,i,s,o,l,m,d,p,f,h,b,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.id,void 0===this._user){e.next=23;break}return e.next=4,this.uqs.webuser.WebUser.load(t);case 4:return(n=e.sent)&&(r=n.firstName,a=n.gender,c=n.salutation,i=n.organizationName,s=n.departmentName,this.firstName=r,this.gender=a,this.salutation=c,this.organizationName=i,this.departmentName=s),e.next=8,this.uqs.webuser.WebUserContact.obj({webUser:this.id});case 8:return(o=e.sent)&&(l=o.telephone,m=o.mobile,d=o.email,p=o.fax,f=o.address,h=o.addressString,b=o.zipCode,this.telephone=l,this.mobile=m,this.email=d,this.fax=p,this.address=f,this.addressString=h,this.zipCode=b),e.next=12,this.uqs.webuser.WebUserSetting.obj({webUser:this.id});case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0={webUser:this.id};case 15:return this.webUserSettings=e.t0,e.next=18,this.uqs.webuser.WebUserCustomer.obj({webUser:this.id});case 18:if(void 0===(v=e.sent)){e.next=23;break}return this.currentCustomer=new Oe(v.customer,this.uqs),e.next=23,this.currentCustomer.init();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContacts",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.table({webUser:this.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.add({webUser:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.del({webUser:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSetting",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webUserSettings);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setDefaultShippingContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.shippingContact=t,this.saveDefaultSettings();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoiceContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.invoiceContact=t,this.saveDefaultSettings();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoice",value:function(){var e=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.invoiceType=t,this.webUserSettings.invoiceInfo=n,this.saveDefaultSettings();case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveDefaultSettings",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserSetting.add(this.webUserSettings);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeWebUser",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUser.save(this.id,t);case 2:return e.next=4,this.loadWebUser();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeWebUserContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.webUser=this.id,e.next=3,this.uqs.webuser.WebUserContact.add(t);case 3:return e.next=5,this.loadWebUser();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isLogined",get:function(){return void 0!==this._user}},{key:"hasCustomer",get:function(){return void 0!==this.currentCustomer}}]),e}(),ue=Object(g.a)(se.prototype,"firstName",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=Object(g.a)(se.prototype,"organizationName",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=Object(g.a)(se.prototype,"mobile",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(g.a)(se.prototype,"allowOrdering",[O.e],Object.getOwnPropertyDescriptor(se.prototype,"allowOrdering"),se.prototype),se),Oe=function(){function e(t,n){Object(m.a)(this,e),this.uqs=void 0,this.id=void 0,this.customerSettings=void 0,this.id=t.id,this.uqs=n}return Object(d.a)(e,[{key:"getContacts",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.customer.CustomerContacts.table({customer:this.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.customer.CustomerContacts.add({customer:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.customer.CustomerContacts.del({customer:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.customer.CustomerSetting.obj({customer:this.id});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={customer:this.id};case 5:this.customerSettings=e.t0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSetting",value:function(){return this.customerSettings}},{key:"setDefaultShippingContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.customerSettings.shippingContact=t,e.next=3,this.setDefaultSettings();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoiceContact",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.customerSettings.invoiceContact=t,e.next=3,this.setDefaultSettings();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoice",value:function(){var e=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.customerSettings.invoiceType=t,this.customerSettings.invoiceInfo=n,e.next=4,this.setDefaultSettings();case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setDefaultSettings",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.customer.CustomerSetting.add(this.customerSettings);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),je=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).topKey=void 0,n.currentSalesRegion=void 0,n.currentLanguage=void 0,n.currentUser=void 0,n.cWebUser=void 0,n.cProduct=void 0,n.cMe=void 0,n.cOrder=void 0,n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"newC",value:function(e){return new e(this)}},{key:"internalStart",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.common.SalesRegion.load(B.SALESREGION_CN);case 2:return this.currentSalesRegion=e.sent,e.next=5,this.uqs.common.Language.load(B.CHINESE);case 5:this.currentLanguage=e.sent,this.currentUser=new ye(this.uqs),this.currentUser.setUser(this.user),this.cWebUser=this.newC(J),this.cProduct=this.newC(ve),this.cMe=this.newC(X),this.cOrder=this.newC(re),this.topKey=l.s.topKey(),this.showMain();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(de,e)}},{key:"uqs",get:function(){return this._uqs}}]),t}(l.a),xe={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customer-service",version:"1.0.3",tvs:R};l.s.setSettings(xe);var Ee=function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.t)(je,xe);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(l.l,{onLogined:e})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.487c52bc.chunk.js.map